!function(modules){function hotDownloadUpdateChunk(chunkId){var head=document.getElementsByTagName("head")[0],script=document.createElement("script");script.type="text/javascript",script.charset="utf-8",script.src=__webpack_require__.p+""+chunkId+"."+hotCurrentHash+".hot-update.js",head.appendChild(script)}function hotDownloadManifest(callback){if("undefined"==typeof XMLHttpRequest)return callback(new Error("No browser support"));try{var request=new XMLHttpRequest,requestPath=__webpack_require__.p+""+hotCurrentHash+".hot-update.json";request.open("GET",requestPath,!0),request.timeout=1e4,request.send(null)}catch(err){return callback(err)}request.onreadystatechange=function(){if(4===request.readyState)if(0===request.status)callback(new Error("Manifest request to "+requestPath+" timed out."));else if(404===request.status)callback();else if(200!==request.status&&304!==request.status)callback(new Error("Manifest request to "+requestPath+" failed."));else{try{var update=JSON.parse(request.responseText)}catch(e){return void callback(e)}callback(null,update)}}}function hotCreateRequire(moduleId){function ensure(chunkId,callback){"ready"===hotStatus&&hotSetStatus("prepare"),hotChunksLoading++,__webpack_require__.e(chunkId,function(){function finishChunkLoading(){hotChunksLoading--,"prepare"===hotStatus&&(hotWaitingFilesMap[chunkId]||hotEnsureUpdateChunk(chunkId),0===hotChunksLoading&&0===hotWaitingFiles&&hotUpdateDownloaded())}try{callback.call(null,fn)}finally{finishChunkLoading()}})}var me=installedModules[moduleId];if(!me)return __webpack_require__;var fn=function(request){return me.hot.active?installedModules[request]?(installedModules[request].parents.indexOf(moduleId)<0&&installedModules[request].parents.push(moduleId),me.children.indexOf(request)<0&&me.children.push(request)):hotCurrentParents=[moduleId]:hotCurrentParents=[],__webpack_require__(request)};for(var name in __webpack_require__)Object.prototype.hasOwnProperty.call(__webpack_require__,name)&&(Object.defineProperty?Object.defineProperty(fn,name,function(name){return{configurable:!0,enumerable:!0,get:function(){return __webpack_require__[name]},set:function(value){__webpack_require__[name]=value}}}(name)):fn[name]=__webpack_require__[name]);return Object.defineProperty?Object.defineProperty(fn,"e",{enumerable:!0,value:ensure}):fn.e=ensure,fn}function hotCreateModule(moduleId){var hot={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],active:!0,accept:function(dep,callback){if("undefined"==typeof dep)hot._selfAccepted=!0;else if("function"==typeof dep)hot._selfAccepted=dep;else if("object"==typeof dep)for(var i=0;i<dep.length;i++)hot._acceptedDependencies[dep[i]]=callback;else hot._acceptedDependencies[dep]=callback},decline:function(dep){if("undefined"==typeof dep)hot._selfDeclined=!0;else if("number"==typeof dep)hot._declinedDependencies[dep]=!0;else for(var i=0;i<dep.length;i++)hot._declinedDependencies[dep[i]]=!0},dispose:function(callback){hot._disposeHandlers.push(callback)},addDisposeHandler:function(callback){hot._disposeHandlers.push(callback)},removeDisposeHandler:function(callback){var idx=hot._disposeHandlers.indexOf(callback);idx>=0&&hot._disposeHandlers.splice(idx,1)},check:hotCheck,apply:hotApply,status:function(l){return l?void hotStatusHandlers.push(l):hotStatus},addStatusHandler:function(l){hotStatusHandlers.push(l)},removeStatusHandler:function(l){var idx=hotStatusHandlers.indexOf(l);idx>=0&&hotStatusHandlers.splice(idx,1)},data:hotCurrentModuleData[moduleId]};return hot}function hotSetStatus(newStatus){hotStatus=newStatus;for(var i=0;i<hotStatusHandlers.length;i++)hotStatusHandlers[i].call(null,newStatus)}function toModuleId(id){var isNumber=+id+""===id;return isNumber?+id:id}function hotCheck(apply,callback){if("idle"!==hotStatus)throw new Error("check() is only allowed in idle status");"function"==typeof apply?(hotApplyOnUpdate=!1,callback=apply):(hotApplyOnUpdate=apply,callback=callback||function(err){if(err)throw err}),hotSetStatus("check"),hotDownloadManifest(function(err,update){if(err)return callback(err);if(!update)return hotSetStatus("idle"),void callback(null,null);hotRequestedFilesMap={},hotAvailibleFilesMap={},hotWaitingFilesMap={};for(var i=0;i<update.c.length;i++)hotAvailibleFilesMap[update.c[i]]=!0;hotUpdateNewHash=update.h,hotSetStatus("prepare"),hotCallback=callback,hotUpdate={};var chunkId=0;hotEnsureUpdateChunk(chunkId),"prepare"===hotStatus&&0===hotChunksLoading&&0===hotWaitingFiles&&hotUpdateDownloaded()})}function hotAddUpdateChunk(chunkId,moreModules){if(hotAvailibleFilesMap[chunkId]&&hotRequestedFilesMap[chunkId]){hotRequestedFilesMap[chunkId]=!1;for(var moduleId in moreModules)Object.prototype.hasOwnProperty.call(moreModules,moduleId)&&(hotUpdate[moduleId]=moreModules[moduleId]);0===--hotWaitingFiles&&0===hotChunksLoading&&hotUpdateDownloaded()}}function hotEnsureUpdateChunk(chunkId){hotAvailibleFilesMap[chunkId]?(hotRequestedFilesMap[chunkId]=!0,hotWaitingFiles++,hotDownloadUpdateChunk(chunkId)):hotWaitingFilesMap[chunkId]=!0}function hotUpdateDownloaded(){hotSetStatus("ready");var callback=hotCallback;if(hotCallback=null,callback)if(hotApplyOnUpdate)hotApply(hotApplyOnUpdate,callback);else{var outdatedModules=[];for(var id in hotUpdate)Object.prototype.hasOwnProperty.call(hotUpdate,id)&&outdatedModules.push(toModuleId(id));callback(null,outdatedModules)}}function hotApply(options,callback){function getAffectedStuff(module){for(var outdatedModules=[module],outdatedDependencies={},queue=outdatedModules.slice();queue.length>0;){var moduleId=queue.pop(),module=installedModules[moduleId];if(module&&!module.hot._selfAccepted){if(module.hot._selfDeclined)return new Error("Aborted because of self decline: "+moduleId);if(0===moduleId)return;for(var i=0;i<module.parents.length;i++){var parentId=module.parents[i],parent=installedModules[parentId];if(parent.hot._declinedDependencies[moduleId])return new Error("Aborted because of declined dependency: "+moduleId+" in "+parentId);outdatedModules.indexOf(parentId)>=0||(parent.hot._acceptedDependencies[moduleId]?(outdatedDependencies[parentId]||(outdatedDependencies[parentId]=[]),addAllToSet(outdatedDependencies[parentId],[moduleId])):(delete outdatedDependencies[parentId],outdatedModules.push(parentId),queue.push(parentId)))}}}return[outdatedModules,outdatedDependencies]}function addAllToSet(a,b){for(var i=0;i<b.length;i++){var item=b[i];a.indexOf(item)<0&&a.push(item)}}if("ready"!==hotStatus)throw new Error("apply() is only allowed in ready status");"function"==typeof options?(callback=options,options={}):options&&"object"==typeof options?callback=callback||function(err){if(err)throw err}:(options={},callback=callback||function(err){if(err)throw err});var outdatedDependencies={},outdatedModules=[],appliedUpdate={};for(var id in hotUpdate)if(Object.prototype.hasOwnProperty.call(hotUpdate,id)){var moduleId=toModuleId(id),result=getAffectedStuff(moduleId);if(!result){if(options.ignoreUnaccepted)continue;return hotSetStatus("abort"),callback(new Error("Aborted because "+moduleId+" is not accepted"))}if(result instanceof Error)return hotSetStatus("abort"),callback(result);appliedUpdate[moduleId]=hotUpdate[moduleId],addAllToSet(outdatedModules,result[0]);for(var moduleId in result[1])Object.prototype.hasOwnProperty.call(result[1],moduleId)&&(outdatedDependencies[moduleId]||(outdatedDependencies[moduleId]=[]),addAllToSet(outdatedDependencies[moduleId],result[1][moduleId]))}for(var outdatedSelfAcceptedModules=[],i=0;i<outdatedModules.length;i++){var moduleId=outdatedModules[i];installedModules[moduleId]&&installedModules[moduleId].hot._selfAccepted&&outdatedSelfAcceptedModules.push({module:moduleId,errorHandler:installedModules[moduleId].hot._selfAccepted})}hotSetStatus("dispose");for(var queue=outdatedModules.slice();queue.length>0;){var moduleId=queue.pop(),module=installedModules[moduleId];if(module){for(var data={},disposeHandlers=module.hot._disposeHandlers,j=0;j<disposeHandlers.length;j++){var cb=disposeHandlers[j];cb(data)}hotCurrentModuleData[moduleId]=data,module.hot.active=!1,delete installedModules[moduleId];for(var j=0;j<module.children.length;j++){var child=installedModules[module.children[j]];if(child){var idx=child.parents.indexOf(moduleId);idx>=0&&child.parents.splice(idx,1)}}}}for(var moduleId in outdatedDependencies)if(Object.prototype.hasOwnProperty.call(outdatedDependencies,moduleId))for(var module=installedModules[moduleId],moduleOutdatedDependencies=outdatedDependencies[moduleId],j=0;j<moduleOutdatedDependencies.length;j++){var dependency=moduleOutdatedDependencies[j],idx=module.children.indexOf(dependency);idx>=0&&module.children.splice(idx,1)}hotSetStatus("apply"),hotCurrentHash=hotUpdateNewHash;for(var moduleId in appliedUpdate)Object.prototype.hasOwnProperty.call(appliedUpdate,moduleId)&&(modules[moduleId]=appliedUpdate[moduleId]);var error=null;for(var moduleId in outdatedDependencies)if(Object.prototype.hasOwnProperty.call(outdatedDependencies,moduleId)){for(var module=installedModules[moduleId],moduleOutdatedDependencies=outdatedDependencies[moduleId],callbacks=[],i=0;i<moduleOutdatedDependencies.length;i++){var dependency=moduleOutdatedDependencies[i],cb=module.hot._acceptedDependencies[dependency];callbacks.indexOf(cb)>=0||callbacks.push(cb)}for(var i=0;i<callbacks.length;i++){var cb=callbacks[i];try{cb(outdatedDependencies)}catch(err){error||(error=err)}}}for(var i=0;i<outdatedSelfAcceptedModules.length;i++){var item=outdatedSelfAcceptedModules[i],moduleId=item.module;hotCurrentParents=[moduleId];try{__webpack_require__(moduleId)}catch(err){if("function"==typeof item.errorHandler)try{item.errorHandler(err)}catch(err){error||(error=err)}else error||(error=err)}}return error?(hotSetStatus("fail"),callback(error)):(hotSetStatus("idle"),void callback(null,outdatedModules))}function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1,hot:hotCreateModule(moduleId),parents:hotCurrentParents,children:[]};return modules[moduleId].call(module.exports,module,module.exports,hotCreateRequire(moduleId)),module.loaded=!0,module.exports}var parentHotUpdateCallback=this.webpackHotUpdate;this.webpackHotUpdate=function(chunkId,moreModules){hotAddUpdateChunk(chunkId,moreModules),parentHotUpdateCallback&&parentHotUpdateCallback(chunkId,moreModules)};var hotCallback,hotUpdate,hotUpdateNewHash,hotApplyOnUpdate=!0,hotCurrentHash="4e30d8dbae2364789394",hotCurrentModuleData={},hotCurrentParents=[],hotStatusHandlers=[],hotStatus="idle",hotWaitingFiles=0,hotChunksLoading=0,hotWaitingFilesMap={},hotRequestedFilesMap={},hotAvailibleFilesMap={},installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__.h=function(){return hotCurrentHash},hotCreateRequire(0)(0)}([function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _init(){window.isMobile=!1,function(a){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(isMobile=!0)}(navigator.userAgent||navigator.vendor||window.opera);var iPad=navigator.userAgent.toLowerCase().indexOf("ipad")!==-1;isMobile||(isMobile=iPad),canvas=document.createElement("canvas"),canvas.className="canvas",document.body.appendChild(canvas);var p=document.createElement("p");p.setAttribute("id","info"),p.innerHTML=isMobile?"TOUCH SCREEN":"PRESS (SPACE)",document.body.appendChild(p),gl=canvas.getContext("webgl"),gl&&(_GLHelpers2["default"].reset(gl),window.addEventListener("mousemove",function(e){mouseX=2*(e.clientX/window.innerWidth-.5),mouseY=2*(e.clientY/window.innerHeight-.5)}),window.addEventListener("resize",resize),resize(),scene=new _SceneLine2["default"],update())}function update(){gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT),globalTime+=.01,scene.update(),window.requestAnimationFrame(update)}function resize(){Math.min(window.innerWidth,window.innerHeight,500);scene&&scene.resize(window.innerWidth,window.innerHeight),_GLHelpers2["default"].resize(window.innerWidth,window.innerHeight)}var _GLHelpers=__webpack_require__(2),_GLHelpers2=_interopRequireDefault(_GLHelpers),_SceneLine=__webpack_require__(23),_SceneLine2=_interopRequireDefault(_SceneLine),_datGui=__webpack_require__(131);_interopRequireDefault(_datGui);window.addEventListener("DOMContentLoaded",_init),window.GL=_GLHelpers2["default"];var scene,gl,mouseX,mouseY,canvas,globalTime=1e4*Math.random()},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(4),_createClass3=_interopRequireDefault(_createClass2),getAttribLoc=function(gl,shaderProgram,name){return void 0===shaderProgram.cacheAttribLoc&&(shaderProgram.cacheAttribLoc={}),void 0===shaderProgram.cacheAttribLoc[name]&&(shaderProgram.cacheAttribLoc[name]=gl.getAttribLocation(shaderProgram,name)),shaderProgram.cacheAttribLoc[name]},gl=void 0,GLHelpers=function(){function GLHelpers(){(0,_classCallCheck3["default"])(this,GLHelpers),this.gl=null,this.canvas=null,this.width=0,this.height=0,this.aspectRatio=0,this.camera=null,this.shader=null,this.shaderProgram=null,this._enabledVertexAttribute=[],this._lastMesh=null}return(0,_createClass3["default"])(GLHelpers,[{key:"reset",value:function(_gl){this.gl=_gl,gl=_gl,this.canvas=gl.canvas}},{key:"useShader",value:function(shader){this.shader=shader,this.shaderProgram=this.shader.shaderProgram}},{key:"setMatrices",value:function(camera){this.camera=camera}},{key:"draw",value:function(mMesh,mDrawingType){this._lastMesh!==mMesh&&this._bindBuffers(mMesh),this.camera&&void 0!==this.camera&&this.camera.projection&&(this.shader.uniform("u_worldViewProjection","mat4",this.camera.projection),this.shader.uniform("u_world","mat4",this.camera.matrix));var drawType=mMesh.drawType;void 0!==mDrawingType&&(drawType=mDrawingType),gl.drawElements(drawType,mMesh.iBuffer.numItems,gl.UNSIGNED_SHORT,0)}},{key:"_bindBuffers",value:function(mMesh){for(var i=0;i<mMesh._attributes.length;i++){var attribute=mMesh._attributes[i];gl.bindBuffer(gl.ARRAY_BUFFER,attribute.buffer);var attrPosition=getAttribLoc(gl,this.shaderProgram,attribute.name);gl.vertexAttribPointer(attrPosition,attribute.itemSize,gl.FLOAT,!1,0,0),this._enabledVertexAttribute.indexOf(attrPosition)===-1&&(gl.enableVertexAttribArray(attrPosition),this._enabledVertexAttribute.push(attrPosition))}gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,mMesh.iBuffer),this._lastMesh=mMesh}},{key:"resize",value:function(width,height){this.canvas.style.width=width+"px",this.canvas.style.height=height+"px",this.canvas.style.top=(window.innerHeight-height)/2+"px",this.canvas.style.left=(window.innerWidth-width)/2+"px",this.width=width,this.height=height,this.canvas.width=this.width,this.canvas.height=this.height,this.aspectRatio=this.width/this.height,this.gl.viewport(0,0,this.width,this.height)}}]),GLHelpers}(),gh=new GLHelpers;exports["default"]=gh,module.exports=exports["default"]},function(module,exports){"use strict";exports.__esModule=!0,exports["default"]=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _defineProperty=__webpack_require__(5),_defineProperty2=_interopRequireDefault(_defineProperty);exports["default"]=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),(0,_defineProperty2["default"])(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}()},function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(6),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(7);var $Object=__webpack_require__(10).Object;module.exports=function(it,key,desc){return $Object.defineProperty(it,key,desc)}},function(module,exports,__webpack_require__){var $export=__webpack_require__(8);$export($export.S+$export.F*!__webpack_require__(18),"Object",{defineProperty:__webpack_require__(14).f})},function(module,exports,__webpack_require__){var global=__webpack_require__(9),core=__webpack_require__(10),ctx=__webpack_require__(11),hide=__webpack_require__(13),PROTOTYPE="prototype",$export=function(type,name,source){var key,own,out,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,IS_WRAP=type&$export.W,exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports[PROTOTYPE],target=IS_GLOBAL?global:IS_STATIC?global[name]:(global[name]||{})[PROTOTYPE];IS_GLOBAL&&(source=name);for(key in source)own=!IS_FORCED&&target&&void 0!==target[key],own&&key in exports||(out=own?target[key]:source[key],exports[key]=IS_GLOBAL&&"function"!=typeof target[key]?source[key]:IS_BIND&&own?ctx(out,global):IS_WRAP&&target[key]==out?function(C){var F=function(a,b,c){if(this instanceof C){switch(arguments.length){case 0:return new C;case 1:return new C(a);case 2:return new C(a,b)}return new C(a,b,c)}return C.apply(this,arguments)};return F[PROTOTYPE]=C[PROTOTYPE],F}(out):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,IS_PROTO&&((exports.virtual||(exports.virtual={}))[key]=out,type&$export.R&&expProto&&!expProto[key]&&hide(expProto,key,out)))};$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},function(module,exports){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},function(module,exports){var core=module.exports={version:"2.4.0"};"number"==typeof __e&&(__e=core)},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(12);module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},function(module,exports,__webpack_require__){var dP=__webpack_require__(14),createDesc=__webpack_require__(22);module.exports=__webpack_require__(18)?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(15),IE8_DOM_DEFINE=__webpack_require__(17),toPrimitive=__webpack_require__(21),dP=Object.defineProperty;exports.f=__webpack_require__(18)?Object.defineProperty:function(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(16);module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(18)&&!__webpack_require__(19)(function(){return 7!=Object.defineProperty(__webpack_require__(20)("div"),"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(19)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(16),document=__webpack_require__(9).document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(16);module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(24),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(4),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(35),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_get2=__webpack_require__(82),_get3=_interopRequireDefault(_get2),_inherits2=__webpack_require__(86),_inherits3=_interopRequireDefault(_inherits2),_Scene2=__webpack_require__(94),_Scene3=_interopRequireDefault(_Scene2),_Easings=__webpack_require__(118),_ViewLine=(_interopRequireDefault(_Easings),__webpack_require__(119)),_ViewLine2=_interopRequireDefault(_ViewLine),SceneLine=function(_Scene){function SceneLine(){(0,_classCallCheck3["default"])(this,SceneLine);var _this=(0,_possibleConstructorReturn3["default"])(this,(SceneLine.__proto__||(0,_getPrototypeOf2["default"])(SceneLine)).call(this));GL.gl;return _this.firstTime=!0,_this.tick=0,_this.viewLine=new _ViewLine2["default"],_this}return(0,_inherits3["default"])(SceneLine,_Scene),(0,_createClass3["default"])(SceneLine,[{key:"render",value:function(){(0,_get3["default"])(SceneLine.prototype.__proto__||(0,_getPrototypeOf2["default"])(SceneLine.prototype),"render",this).call(this),this.viewLine.render()}}]),SceneLine}(_Scene3["default"]);exports["default"]=SceneLine,module.exports=exports["default"]},function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(25),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(26),module.exports=__webpack_require__(10).Object.getPrototypeOf},function(module,exports,__webpack_require__){var toObject=__webpack_require__(27),$getPrototypeOf=__webpack_require__(29);__webpack_require__(34)("getPrototypeOf",function(){return function(it){return $getPrototypeOf(toObject(it))}})},function(module,exports,__webpack_require__){var defined=__webpack_require__(28);module.exports=function(it){return Object(defined(it))}},function(module,exports){module.exports=function(it){if(void 0==it)throw TypeError("Can't call method on  "+it);return it}},function(module,exports,__webpack_require__){var has=__webpack_require__(30),toObject=__webpack_require__(27),IE_PROTO=__webpack_require__(31)("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectProto:null}},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports,__webpack_require__){var shared=__webpack_require__(32)("keys"),uid=__webpack_require__(33);module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},function(module,exports,__webpack_require__){var global=__webpack_require__(9),SHARED="__core-js_shared__",store=global[SHARED]||(global[SHARED]={});module.exports=function(key){return store[key]||(store[key]={})}},function(module,exports){var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))}},function(module,exports,__webpack_require__){var $export=__webpack_require__(8),core=__webpack_require__(10),fails=__webpack_require__(19);module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn),$export($export.S+$export.F*fails(function(){fn(1)}),"Object",exp)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _typeof2=__webpack_require__(36),_typeof3=_interopRequireDefault(_typeof2);exports["default"]=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==("undefined"==typeof call?"undefined":(0,_typeof3["default"])(call))&&"function"!=typeof call?self:call}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _iterator=__webpack_require__(37),_iterator2=_interopRequireDefault(_iterator),_symbol=__webpack_require__(66),_symbol2=_interopRequireDefault(_symbol),_typeof="function"==typeof _symbol2["default"]&&"symbol"==typeof _iterator2["default"]?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof _symbol2["default"]&&obj.constructor===_symbol2["default"]&&obj!==_symbol2["default"].prototype?"symbol":typeof obj};exports["default"]="function"==typeof _symbol2["default"]&&"symbol"===_typeof(_iterator2["default"])?function(obj){return"undefined"==typeof obj?"undefined":_typeof(obj)}:function(obj){return obj&&"function"==typeof _symbol2["default"]&&obj.constructor===_symbol2["default"]&&obj!==_symbol2["default"].prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof(obj)}},function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(38),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(39),__webpack_require__(61),module.exports=__webpack_require__(65).f("iterator")},function(module,exports,__webpack_require__){"use strict";var $at=__webpack_require__(40)(!0);__webpack_require__(42)(String,"String",function(iterated){this._t=String(iterated),this._i=0},function(){var point,O=this._t,index=this._i;return index>=O.length?{value:void 0,done:!0}:(point=$at(O,index),this._i+=point.length,{value:point,done:!1})})},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(41),defined=__webpack_require__(28);module.exports=function(TO_STRING){return function(that,pos){var a,b,s=String(defined(that)),i=toInteger(pos),l=s.length;return i<0||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i),a<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):(a-55296<<10)+(b-56320)+65536)}}},function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},function(module,exports,__webpack_require__){"use strict";var LIBRARY=__webpack_require__(43),$export=__webpack_require__(8),redefine=__webpack_require__(44),hide=__webpack_require__(13),has=__webpack_require__(30),Iterators=__webpack_require__(45),$iterCreate=__webpack_require__(46),setToStringTag=__webpack_require__(59),getPrototypeOf=__webpack_require__(29),ITERATOR=__webpack_require__(60)("iterator"),BUGGY=!([].keys&&"next"in[].keys()),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var methods,key,IteratorPrototype,getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case KEYS:return function(){return new Constructor(this,kind)};case VALUES:return function(){return new Constructor(this,kind)}}return function(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES=DEFAULT==VALUES,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto[FF_ITERATOR]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?DEF_VALUES?getMethod("entries"):$default:void 0,$anyNative="Array"==NAME?proto.entries||$native:$native;if($anyNative&&(IteratorPrototype=getPrototypeOf($anyNative.call(new Base)),IteratorPrototype!==Object.prototype&&(setToStringTag(IteratorPrototype,TAG,!0),LIBRARY||has(IteratorPrototype,ITERATOR)||hide(IteratorPrototype,ITERATOR,returnThis))),DEF_VALUES&&$native&&$native.name!==VALUES&&(VALUES_BUG=!0,$default=function(){return $native.call(this)}),LIBRARY&&!FORCED||!BUGGY&&!VALUES_BUG&&proto[ITERATOR]||hide(proto,ITERATOR,$default),Iterators[NAME]=$default,Iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod(VALUES),keys:IS_SET?$default:getMethod(KEYS),entries:$entries},FORCED)for(key in methods)key in proto||redefine(proto,key,methods[key]);else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods}},function(module,exports){module.exports=!0},function(module,exports,__webpack_require__){module.exports=__webpack_require__(13);
},function(module,exports){module.exports={}},function(module,exports,__webpack_require__){"use strict";var create=__webpack_require__(47),descriptor=__webpack_require__(22),setToStringTag=__webpack_require__(59),IteratorPrototype={};__webpack_require__(13)(IteratorPrototype,__webpack_require__(60)("iterator"),function(){return this}),module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)}),setToStringTag(Constructor,NAME+" Iterator")}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(15),dPs=__webpack_require__(48),enumBugKeys=__webpack_require__(57),IE_PROTO=__webpack_require__(31)("IE_PROTO"),Empty=function(){},PROTOTYPE="prototype",createDict=function(){var iframeDocument,iframe=__webpack_require__(20)("iframe"),i=enumBugKeys.length,lt="<",gt=">";for(iframe.style.display="none",__webpack_require__(58).appendChild(iframe),iframe.src="javascript:",iframeDocument=iframe.contentWindow.document,iframeDocument.open(),iframeDocument.write(lt+"script"+gt+"document.F=Object"+lt+"/script"+gt),iframeDocument.close(),createDict=iframeDocument.F;i--;)delete createDict[PROTOTYPE][enumBugKeys[i]];return createDict()};module.exports=Object.create||function(O,Properties){var result;return null!==O?(Empty[PROTOTYPE]=anObject(O),result=new Empty,Empty[PROTOTYPE]=null,result[IE_PROTO]=O):result=createDict(),void 0===Properties?result:dPs(result,Properties)}},function(module,exports,__webpack_require__){var dP=__webpack_require__(14),anObject=__webpack_require__(15),getKeys=__webpack_require__(49);module.exports=__webpack_require__(18)?Object.defineProperties:function(O,Properties){anObject(O);for(var P,keys=getKeys(Properties),length=keys.length,i=0;length>i;)dP.f(O,P=keys[i++],Properties[P]);return O}},function(module,exports,__webpack_require__){var $keys=__webpack_require__(50),enumBugKeys=__webpack_require__(57);module.exports=Object.keys||function(O){return $keys(O,enumBugKeys)}},function(module,exports,__webpack_require__){var has=__webpack_require__(30),toIObject=__webpack_require__(51),arrayIndexOf=__webpack_require__(54)(!1),IE_PROTO=__webpack_require__(31)("IE_PROTO");module.exports=function(object,names){var key,O=toIObject(object),i=0,result=[];for(key in O)key!=IE_PROTO&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}},function(module,exports,__webpack_require__){var IObject=__webpack_require__(52),defined=__webpack_require__(28);module.exports=function(it){return IObject(defined(it))}},function(module,exports,__webpack_require__){var cof=__webpack_require__(53);module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)}},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(51),toLength=__webpack_require__(55),toIndex=__webpack_require__(56);module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIObject($this),length=toLength(O.length),index=toIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if(value=O[index++],value!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(41),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(41),max=Math.max,min=Math.min;module.exports=function(index,length){return index=toInteger(index),index<0?max(index+length,0):min(index,length)}},function(module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(9).document&&document.documentElement},function(module,exports,__webpack_require__){var def=__webpack_require__(14).f,has=__webpack_require__(30),TAG=__webpack_require__(60)("toStringTag");module.exports=function(it,tag,stat){it&&!has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})}},function(module,exports,__webpack_require__){var store=__webpack_require__(32)("wks"),uid=__webpack_require__(33),Symbol=__webpack_require__(9).Symbol,USE_SYMBOL="function"==typeof Symbol,$exports=module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:uid)("Symbol."+name))};$exports.store=store},function(module,exports,__webpack_require__){__webpack_require__(62);for(var global=__webpack_require__(9),hide=__webpack_require__(13),Iterators=__webpack_require__(45),TO_STRING_TAG=__webpack_require__(60)("toStringTag"),collections=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],i=0;i<5;i++){var NAME=collections[i],Collection=global[NAME],proto=Collection&&Collection.prototype;proto&&!proto[TO_STRING_TAG]&&hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=Iterators.Array}},function(module,exports,__webpack_require__){"use strict";var addToUnscopables=__webpack_require__(63),step=__webpack_require__(64),Iterators=__webpack_require__(45),toIObject=__webpack_require__(51);module.exports=__webpack_require__(42)(Array,"Array",function(iterated,kind){this._t=toIObject(iterated),this._i=0,this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=void 0,step(1)):"keys"==kind?step(0,index):"values"==kind?step(0,O[index]):step(0,[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},function(module,exports){module.exports=function(){}},function(module,exports){module.exports=function(done,value){return{value:value,done:!!done}}},function(module,exports,__webpack_require__){exports.f=__webpack_require__(60)},function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(67),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(68),__webpack_require__(79),__webpack_require__(80),__webpack_require__(81),module.exports=__webpack_require__(10).Symbol},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(9),has=__webpack_require__(30),DESCRIPTORS=__webpack_require__(18),$export=__webpack_require__(8),redefine=__webpack_require__(44),META=__webpack_require__(69).KEY,$fails=__webpack_require__(19),shared=__webpack_require__(32),setToStringTag=__webpack_require__(59),uid=__webpack_require__(33),wks=__webpack_require__(60),wksExt=__webpack_require__(65),wksDefine=__webpack_require__(70),keyOf=__webpack_require__(71),enumKeys=__webpack_require__(72),isArray=__webpack_require__(75),anObject=__webpack_require__(15),toIObject=__webpack_require__(51),toPrimitive=__webpack_require__(21),createDesc=__webpack_require__(22),_create=__webpack_require__(47),gOPNExt=__webpack_require__(76),$GOPD=__webpack_require__(78),$DP=__webpack_require__(14),$keys=__webpack_require__(49),gOPD=$GOPD.f,dP=$DP.f,gOPN=gOPNExt.f,$Symbol=global.Symbol,$JSON=global.JSON,_stringify=$JSON&&$JSON.stringify,PROTOTYPE="prototype",HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object[PROTOTYPE],USE_NATIVE="function"==typeof $Symbol,QObject=global.QObject,setter=!QObject||!QObject[PROTOTYPE]||!QObject[PROTOTYPE].findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return 7!=_create(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a})?function(it,key,D){var protoDesc=gOPD(ObjectProto,key);protoDesc&&delete ObjectProto[key],dP(it,key,D),protoDesc&&it!==ObjectProto&&dP(ObjectProto,key,protoDesc)}:dP,wrap=function(tag){var sym=AllSymbols[tag]=_create($Symbol[PROTOTYPE]);return sym._k=tag,sym},isSymbol=USE_NATIVE&&"symbol"==typeof $Symbol.iterator?function(it){return"symbol"==typeof it}:function(it){return it instanceof $Symbol},$defineProperty=function(it,key,D){return it===ObjectProto&&$defineProperty(OPSymbols,key,D),anObject(it),key=toPrimitive(key,!0),anObject(D),has(AllSymbols,key)?(D.enumerable?(has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=_create(D,{enumerable:createDesc(0,!1)})):(has(it,HIDDEN)||dP(it,HIDDEN,createDesc(1,{})),it[HIDDEN][key]=!0),setSymbolDesc(it,key,D)):dP(it,key,D)},$defineProperties=function(it,P){anObject(it);for(var key,keys=enumKeys(P=toIObject(P)),i=0,l=keys.length;l>i;)$defineProperty(it,key=keys[i++],P[key]);return it},$create=function(it,P){return void 0===P?_create(it):$defineProperties(_create(it),P)},$propertyIsEnumerable=function(key){var E=isEnum.call(this,key=toPrimitive(key,!0));return!(this===ObjectProto&&has(AllSymbols,key)&&!has(OPSymbols,key))&&(!(E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key])||E)},$getOwnPropertyDescriptor=function(it,key){if(it=toIObject(it),key=toPrimitive(key,!0),it!==ObjectProto||!has(AllSymbols,key)||has(OPSymbols,key)){var D=gOPD(it,key);return!D||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(D.enumerable=!0),D}},$getOwnPropertyNames=function(it){for(var key,names=gOPN(toIObject(it)),result=[],i=0;names.length>i;)has(AllSymbols,key=names[i++])||key==HIDDEN||key==META||result.push(key);return result},$getOwnPropertySymbols=function(it){for(var key,IS_OP=it===ObjectProto,names=gOPN(IS_OP?OPSymbols:toIObject(it)),result=[],i=0;names.length>i;)!has(AllSymbols,key=names[i++])||IS_OP&&!has(ObjectProto,key)||result.push(AllSymbols[key]);return result};USE_NATIVE||($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tag=uid(arguments.length>0?arguments[0]:void 0),$set=function(value){this===ObjectProto&&$set.call(OPSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDesc(this,tag,createDesc(1,value))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,tag,{configurable:!0,set:$set}),wrap(tag)},redefine($Symbol[PROTOTYPE],"toString",function(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,__webpack_require__(77).f=gOPNExt.f=$getOwnPropertyNames,__webpack_require__(74).f=$propertyIsEnumerable,__webpack_require__(73).f=$getOwnPropertySymbols,DESCRIPTORS&&!__webpack_require__(43)&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(name){return wrap(wks(name))}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Symbol:$Symbol});for(var symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),i=0;symbols.length>i;)wks(symbols[i++]);for(var symbols=$keys(wks.store),i=0;symbols.length>i;)wksDefine(symbols[i++]);$export($export.S+$export.F*!USE_NATIVE,"Symbol",{"for":function(key){return has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function(key){if(isSymbol(key))return keyOf(SymbolRegistry,key);throw TypeError(key+" is not a symbol!")},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export($export.S+$export.F*!USE_NATIVE,"Object",{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON&&$export($export.S+$export.F*(!USE_NATIVE||$fails(function(){var S=$Symbol();return"[null]"!=_stringify([S])||"{}"!=_stringify({a:S})||"{}"!=_stringify(Object(S))})),"JSON",{stringify:function(it){if(void 0!==it&&!isSymbol(it)){for(var replacer,$replacer,args=[it],i=1;arguments.length>i;)args.push(arguments[i++]);return replacer=args[1],"function"==typeof replacer&&($replacer=replacer),!$replacer&&isArray(replacer)||(replacer=function(key,value){if($replacer&&(value=$replacer.call(this,key,value)),!isSymbol(value))return value}),args[1]=replacer,_stringify.apply($JSON,args)}}}),$Symbol[PROTOTYPE][TO_PRIMITIVE]||__webpack_require__(13)($Symbol[PROTOTYPE],TO_PRIMITIVE,$Symbol[PROTOTYPE].valueOf),setToStringTag($Symbol,"Symbol"),setToStringTag(Math,"Math",!0),setToStringTag(global.JSON,"JSON",!0)},function(module,exports,__webpack_require__){var META=__webpack_require__(33)("meta"),isObject=__webpack_require__(16),has=__webpack_require__(30),setDesc=__webpack_require__(14).f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!__webpack_require__(19)(function(){return isExtensible(Object.preventExtensions({}))}),setMeta=function(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})},fastKey=function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i},getWeak=function(it,create){if(!has(it,META)){if(!isExtensible(it))return!0;if(!create)return!1;setMeta(it)}return it[META].w},onFreeze=function(it){return FREEZE&&meta.NEED&&isExtensible(it)&&!has(it,META)&&setMeta(it),it},meta=module.exports={KEY:META,NEED:!1,fastKey:fastKey,getWeak:getWeak,onFreeze:onFreeze}},function(module,exports,__webpack_require__){var global=__webpack_require__(9),core=__webpack_require__(10),LIBRARY=__webpack_require__(43),wksExt=__webpack_require__(65),defineProperty=__webpack_require__(14).f;module.exports=function(name){var $Symbol=core.Symbol||(core.Symbol=LIBRARY?{}:global.Symbol||{});"_"==name.charAt(0)||name in $Symbol||defineProperty($Symbol,name,{value:wksExt.f(name)})}},function(module,exports,__webpack_require__){var getKeys=__webpack_require__(49),toIObject=__webpack_require__(51);module.exports=function(object,el){for(var key,O=toIObject(object),keys=getKeys(O),length=keys.length,index=0;length>index;)if(O[key=keys[index++]]===el)return key}},function(module,exports,__webpack_require__){var getKeys=__webpack_require__(49),gOPS=__webpack_require__(73),pIE=__webpack_require__(74);module.exports=function(it){var result=getKeys(it),getSymbols=gOPS.f;if(getSymbols)for(var key,symbols=getSymbols(it),isEnum=pIE.f,i=0;symbols.length>i;)isEnum.call(it,key=symbols[i++])&&result.push(key);return result}},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports){exports.f={}.propertyIsEnumerable},function(module,exports,__webpack_require__){var cof=__webpack_require__(53);module.exports=Array.isArray||function(arg){return"Array"==cof(arg)}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(51),gOPN=__webpack_require__(77).f,toString={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(it){try{return gOPN(it)}catch(e){return windowNames.slice()}};module.exports.f=function(it){return windowNames&&"[object Window]"==toString.call(it)?getWindowNames(it):gOPN(toIObject(it))}},function(module,exports,__webpack_require__){var $keys=__webpack_require__(50),hiddenKeys=__webpack_require__(57).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(O){return $keys(O,hiddenKeys)}},function(module,exports,__webpack_require__){var pIE=__webpack_require__(74),createDesc=__webpack_require__(22),toIObject=__webpack_require__(51),toPrimitive=__webpack_require__(21),has=__webpack_require__(30),IE8_DOM_DEFINE=__webpack_require__(17),gOPD=Object.getOwnPropertyDescriptor;exports.f=__webpack_require__(18)?gOPD:function(O,P){if(O=toIObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return gOPD(O,P)}catch(e){}if(has(O,P))return createDesc(!pIE.f.call(O,P),O[P])}},function(module,exports){},function(module,exports,__webpack_require__){__webpack_require__(70)("asyncIterator")},function(module,exports,__webpack_require__){__webpack_require__(70)("observable")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _getPrototypeOf=__webpack_require__(24),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_getOwnPropertyDescriptor=__webpack_require__(83),_getOwnPropertyDescriptor2=_interopRequireDefault(_getOwnPropertyDescriptor);exports["default"]=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=(0,_getOwnPropertyDescriptor2["default"])(object,property);if(void 0===desc){var parent=(0,_getPrototypeOf2["default"])(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)}},function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(84),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(85);var $Object=__webpack_require__(10).Object;module.exports=function(it,key){return $Object.getOwnPropertyDescriptor(it,key)}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(51),$getOwnPropertyDescriptor=__webpack_require__(78).f;__webpack_require__(34)("getOwnPropertyDescriptor",function(){return function(it,key){return $getOwnPropertyDescriptor(toIObject(it),key)}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _setPrototypeOf=__webpack_require__(87),_setPrototypeOf2=_interopRequireDefault(_setPrototypeOf),_create=__webpack_require__(91),_create2=_interopRequireDefault(_create),_typeof2=__webpack_require__(36),_typeof3=_interopRequireDefault(_typeof2);exports["default"]=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof superClass?"undefined":(0,_typeof3["default"])(superClass)));subClass.prototype=(0,_create2["default"])(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(_setPrototypeOf2["default"]?(0,_setPrototypeOf2["default"])(subClass,superClass):subClass.__proto__=superClass)}},function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(88),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(89),module.exports=__webpack_require__(10).Object.setPrototypeOf},function(module,exports,__webpack_require__){var $export=__webpack_require__(8);$export($export.S,"Object",{setPrototypeOf:__webpack_require__(90).set})},function(module,exports,__webpack_require__){var isObject=__webpack_require__(16),anObject=__webpack_require__(15),check=function(O,proto){if(anObject(O),!isObject(proto)&&null!==proto)throw TypeError(proto+": can't set as prototype!")};module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(test,buggy,set){try{set=__webpack_require__(11)(Function.call,__webpack_require__(78).f(Object.prototype,"__proto__").set,2),set(test,[]),buggy=!(test instanceof Array)}catch(e){buggy=!0}return function(O,proto){return check(O,proto),buggy?O.__proto__=proto:set(O,proto),O}}({},!1):void 0),check:check}},function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(92),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(93);var $Object=__webpack_require__(10).Object;module.exports=function(P,D){return $Object.create(P,D)}},function(module,exports,__webpack_require__){var $export=__webpack_require__(8);$export($export.S,"Object",{create:__webpack_require__(47)})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(4),_createClass3=_interopRequireDefault(_createClass2),_Matrices=__webpack_require__(95),_Camera=(_interopRequireDefault(_Matrices),__webpack_require__(96)),_Camera2=_interopRequireDefault(_Camera),_GLShader=__webpack_require__(97),_GLHelpers=(_interopRequireDefault(_GLShader),__webpack_require__(2)),_GLHelpers2=_interopRequireDefault(_GLHelpers),_OrbitalControl=__webpack_require__(98),_OrbitalControl2=_interopRequireDefault(_OrbitalControl),_Floor=__webpack_require__(99),_Floor2=_interopRequireDefault(_Floor),_ViewBackground=__webpack_require__(108),_ViewBackground2=_interopRequireDefault(_ViewBackground),_AxisY=__webpack_require__(111),_ViewSphere=(_interopRequireDefault(_AxisY),__webpack_require__(114)),_ViewSphere2=_interopRequireDefault(_ViewSphere),gl=void 0,Scene=function(){function Scene(){(0,_classCallCheck3["default"])(this,Scene),gl=_GLHelpers2["default"].gl,this.tick=0,gl.enable(gl.DEPTH_TEST),gl.enable(gl.BLEND),gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA),this.orbitalControl=new _OrbitalControl2["default"],this.camera=new _Camera2["default"],this.viewBackground=new _ViewBackground2["default"],this.viewFloor=new _Floor2["default"],this.viewSphere=new _ViewSphere2["default"],window.addEventListener("resize",this.resize.bind(this))}return(0,_createClass3["default"])(Scene,[{key:"update",value:function(){this.render()}},{key:"render",value:function(){_GLHelpers2["default"].setMatrices(this.camera),this.tick++,this.orbitalControl.offsetPosition[0]=0,this.orbitalControl.offsetPosition[1]=250,this.orbitalControl.radius=800,this.orbitalControl.angleA+=.004,this.orbitalControl.update(),this.camera.position=this.orbitalControl.position,this.camera.perspective(60*Math.PI/180,_GLHelpers2["default"].aspectRatio,1,2e3);var target=[0,0,0],up=[0,1,0];this.camera.lookAt(target,up),gl.disable(gl.DEPTH_TEST),gl.enable(gl.DEPTH_TEST)}},{key:"resize",value:function(){_GLHelpers2["default"].resize(window.innerWidth,window.innerHeight),this.camera.setAspectRatio(_GLHelpers2["default"].aspectRatio)}}]),Scene}();exports["default"]=Scene,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(4),_createClass3=_interopRequireDefault(_createClass2),Matrices=function(){function Matrices(){(0,_classCallCheck3["default"])(this,Matrices)}return(0,_createClass3["default"])(Matrices,[{key:"multiply",value:function(a,b,dst){dst=dst||new Float32Array(16);var b00=b[0],b01=b[1],b02=b[2],b03=b[3],b10=b[4],b11=b[5],b12=b[6],b13=b[7],b20=b[8],b21=b[9],b22=b[10],b23=b[11],b30=b[12],b31=b[13],b32=b[14],b33=b[15],a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];return dst[0]=b00*a00+b01*a10+b02*a20+b03*a30,dst[1]=b00*a01+b01*a11+b02*a21+b03*a31,dst[2]=b00*a02+b01*a12+b02*a22+b03*a32,dst[3]=b00*a03+b01*a13+b02*a23+b03*a33,dst[4]=b10*a00+b11*a10+b12*a20+b13*a30,dst[5]=b10*a01+b11*a11+b12*a21+b13*a31,dst[6]=b10*a02+b11*a12+b12*a22+b13*a32,dst[7]=b10*a03+b11*a13+b12*a23+b13*a33,dst[8]=b20*a00+b21*a10+b22*a20+b23*a30,dst[9]=b20*a01+b21*a11+b22*a21+b23*a31,dst[10]=b20*a02+b21*a12+b22*a22+b23*a32,dst[11]=b20*a03+b21*a13+b22*a23+b23*a33,dst[12]=b30*a00+b31*a10+b32*a20+b33*a30,dst[13]=b30*a01+b31*a11+b32*a21+b33*a31,dst[14]=b30*a02+b31*a12+b32*a22+b33*a32,dst[15]=b30*a03+b31*a13+b32*a23+b33*a33,dst}},{key:"projection",value:function(width,height,dst){return dst=dst||this.identity(),dst=[2/width,0,0,0,0,-2/height,0,0,-1,1,1,0,0,0,0,1]}},{key:"yRotate",value:function(m,angleInRadians,dst){dst=dst||new Float32Array(16);var m00=m[0],m01=m[1],m02=m[2],m03=m[3],m20=m[8],m21=m[9],m22=m[10],m23=m[11],c=Math.cos(angleInRadians),s=Math.sin(angleInRadians);return dst[0]=c*m00-s*m20,dst[1]=c*m01-s*m21,dst[2]=c*m02-s*m22,dst[3]=c*m03-s*m23,dst[8]=c*m20+s*m00,dst[9]=c*m21+s*m01,dst[10]=c*m22+s*m02,dst[11]=c*m23+s*m03,m!==dst&&(dst[4]=m[4],dst[5]=m[5],dst[6]=m[6],dst[7]=m[7],dst[12]=m[12],dst[13]=m[13],dst[14]=m[14],dst[15]=m[15]),dst}},{key:"translate",value:function(m,tx,ty,tz,dst){dst=dst||new Float32Array(16);var m00=m[0],m01=m[1],m02=m[2],m03=m[3],m10=m[4],m11=m[5],m12=m[6],m13=m[7],m20=m[8],m21=m[9],m22=m[10],m23=m[11],m30=m[12],m31=m[13],m32=m[14],m33=m[15];return m!==dst&&(dst[0]=m00,dst[1]=m01,dst[2]=m02,dst[3]=m03,dst[4]=m10,dst[5]=m11,dst[6]=m12,dst[7]=m13,dst[8]=m20,dst[9]=m21,dst[10]=m22,dst[11]=m23),dst[12]=m00*tx+m10*ty+m20*tz+m30,dst[13]=m01*tx+m11*ty+m21*tz+m31,dst[14]=m02*tx+m12*ty+m22*tz+m32,dst[15]=m03*tx+m13*ty+m23*tz+m33,dst}},{key:"translation",value:function(tx,ty,tz,dst){return dst=dst||new Float32Array(16),dst[0]=1,dst[1]=0,dst[2]=0,dst[3]=0,dst[4]=0,dst[5]=1,dst[6]=0,dst[7]=0,dst[8]=0,dst[9]=0,dst[10]=1,dst[11]=0,dst[12]=tx,dst[13]=ty,dst[14]=tz,dst[15]=1,dst}},{key:"yRotation",value:function(angleInRadians,dst){dst=dst||new Float32Array(16);var c=Math.cos(angleInRadians),s=Math.sin(angleInRadians);return dst[0]=c,dst[1]=0,dst[2]=-s,dst[3]=0,dst[4]=0,dst[5]=1,dst[6]=0,dst[7]=0,dst[8]=s,dst[9]=0,dst[10]=c,dst[11]=0,dst[12]=0,dst[13]=0,dst[14]=0,dst[15]=1,dst}},{key:"rotationMatrix",value:function(axis,angle,matrice){matrice=matrice||this.identity(),axis=this.normalize(axis);var s=Math.sin(angle),c=Math.cos(angle),oc=1-c;return[oc*axis.x*axis.x+c,oc*axis.x*axis.y-axis.z*s,oc*axis.z*axis.x+axis.y*s,0,oc*axis.x*axis.y+axis.z*s,oc*axis.y*axis.y+c,oc*axis.y*axis.z-axis.x*s,0,oc*axis.z*axis.x-axis.y*s,oc*axis.y*axis.z+axis.x*s,oc*axis.z*axis.z+c,0,0,0,0,1]}},{key:"identity",value:function(dst){return dst=dst||new Float32Array(16),dst[0]=1,dst[1]=0,dst[2]=0,dst[3]=0,dst[4]=0,dst[5]=1,dst[6]=0,dst[7]=0,dst[8]=0,dst[9]=0,dst[10]=1,dst[11]=0,dst[12]=0,dst[13]=0,dst[14]=0,dst[15]=1,dst}},{key:"transpose",value:function(m,dst){return dst=dst||new Float32Array(16),dst[0]=m[0],dst[1]=m[4],dst[2]=m[8],dst[3]=m[12],dst[4]=m[1],dst[5]=m[5],dst[6]=m[9],dst[7]=m[13],dst[8]=m[2],dst[9]=m[6],dst[10]=m[10],dst[11]=m[14],dst[12]=m[3],dst[13]=m[7],dst[14]=m[11],dst[15]=m[15],dst}},{key:"inverse",value:function(m,dst){dst=dst||new Float32Array(16);var m00=m[0],m01=m[1],m02=m[2],m03=m[3],m10=m[4],m11=m[5],m12=m[6],m13=m[7],m20=m[8],m21=m[9],m22=m[10],m23=m[11],m30=m[12],m31=m[13],m32=m[14],m33=m[15],tmp_0=m22*m33,tmp_1=m32*m23,tmp_2=m12*m33,tmp_3=m32*m13,tmp_4=m12*m23,tmp_5=m22*m13,tmp_6=m02*m33,tmp_7=m32*m03,tmp_8=m02*m23,tmp_9=m22*m03,tmp_10=m02*m13,tmp_11=m12*m03,tmp_12=m20*m31,tmp_13=m30*m21,tmp_14=m10*m31,tmp_15=m30*m11,tmp_16=m10*m21,tmp_17=m20*m11,tmp_18=m00*m31,tmp_19=m30*m01,tmp_20=m00*m21,tmp_21=m20*m01,tmp_22=m00*m11,tmp_23=m10*m01,t0=tmp_0*m11+tmp_3*m21+tmp_4*m31-(tmp_1*m11+tmp_2*m21+tmp_5*m31),t1=tmp_1*m01+tmp_6*m21+tmp_9*m31-(tmp_0*m01+tmp_7*m21+tmp_8*m31),t2=tmp_2*m01+tmp_7*m11+tmp_10*m31-(tmp_3*m01+tmp_6*m11+tmp_11*m31),t3=tmp_5*m01+tmp_8*m11+tmp_11*m21-(tmp_4*m01+tmp_9*m11+tmp_10*m21),d=1/(m00*t0+m10*t1+m20*t2+m30*t3);return dst[0]=d*t0,dst[1]=d*t1,dst[2]=d*t2,dst[3]=d*t3,dst[4]=d*(tmp_1*m10+tmp_2*m20+tmp_5*m30-(tmp_0*m10+tmp_3*m20+tmp_4*m30)),dst[5]=d*(tmp_0*m00+tmp_7*m20+tmp_8*m30-(tmp_1*m00+tmp_6*m20+tmp_9*m30)),dst[6]=d*(tmp_3*m00+tmp_6*m10+tmp_11*m30-(tmp_2*m00+tmp_7*m10+tmp_10*m30)),dst[7]=d*(tmp_4*m00+tmp_9*m10+tmp_10*m20-(tmp_5*m00+tmp_8*m10+tmp_11*m20)),dst[8]=d*(tmp_12*m13+tmp_15*m23+tmp_16*m33-(tmp_13*m13+tmp_14*m23+tmp_17*m33)),dst[9]=d*(tmp_13*m03+tmp_18*m23+tmp_21*m33-(tmp_12*m03+tmp_19*m23+tmp_20*m33)),dst[10]=d*(tmp_14*m03+tmp_19*m13+tmp_22*m33-(tmp_15*m03+tmp_18*m13+tmp_23*m33)),dst[11]=d*(tmp_17*m03+tmp_20*m13+tmp_23*m23-(tmp_16*m03+tmp_21*m13+tmp_22*m23)),dst[12]=d*(tmp_14*m22+tmp_17*m32+tmp_13*m12-(tmp_16*m32+tmp_12*m12+tmp_15*m22)),dst[13]=d*(tmp_20*m32+tmp_12*m02+tmp_19*m22-(tmp_18*m22+tmp_21*m32+tmp_13*m02)),dst[14]=d*(tmp_18*m12+tmp_23*m32+tmp_15*m02-(tmp_22*m32+tmp_14*m02+tmp_19*m12)),dst[15]=d*(tmp_22*m22+tmp_16*m02+tmp_21*m12-(tmp_20*m12+tmp_23*m22+tmp_17*m02)),dst}},{key:"cross",value:function(a,b,dst){return dst=dst||new Float32Array(3),dst[0]=a[1]*b[2]-a[2]*b[1],dst[1]=a[2]*b[0]-a[0]*b[2],dst[2]=a[0]*b[1]-a[1]*b[0],dst}},{key:"normalize",value:function(v,dst){dst=dst||new Float32Array(3);var length=Math.sqrt(v[0]*v[0]+v[1]*v[1]+v[2]*v[2]);return length>1e-5&&(dst[0]=v[0]/length,dst[1]=v[1]/length,dst[2]=v[2]/length),dst}},{key:"multiplyVectorsScalar",value:function(scalar,a,dst){return dst=dst||new Float32Array(3),dst[0]=a[0]*scalar,dst[1]=a[1]*scalar,dst[2]=a[2]*scalar,dst}},{key:"subtractVectors",value:function(a,b,dst){return dst=dst||new Float32Array(3),dst[0]=a[0]-b[0],dst[1]=a[1]-b[1],dst[2]=a[2]-b[2],dst}},{key:"addVectors",value:function(a,b,dst){return dst=dst||new Float32Array(3),dst[0]=a[0]+b[0],dst[1]=a[1]+b[1],dst[2]=a[2]+b[2],dst}}]),Matrices}(),m=new Matrices;exports["default"]=m,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(4),_createClass3=_interopRequireDefault(_createClass2),_Matrices=__webpack_require__(95),_Matrices2=_interopRequireDefault(_Matrices),Camera=function(){function Camera(){(0,_classCallCheck3["default"])(this,Camera),this.aspectRatio=_Matrices2["default"].identity(),this.matrix=_Matrices2["default"].identity(),this.projection=_Matrices2["default"].identity(),this.position=[0,0,0]}return(0,_createClass3["default"])(Camera,[{key:"lookAt",value:function(target,up,dst){dst=dst||new Float32Array(16);var zAxis=_Matrices2["default"].normalize(_Matrices2["default"].subtractVectors(this.position,target)),xAxis=_Matrices2["default"].normalize(_Matrices2["default"].cross(up,zAxis)),yAxis=_Matrices2["default"].normalize(_Matrices2["default"].cross(zAxis,xAxis));return dst[0]=xAxis[0],dst[1]=xAxis[1],dst[2]=xAxis[2],dst[3]=0,dst[4]=yAxis[0],dst[5]=yAxis[1],dst[6]=yAxis[2],dst[7]=0,dst[8]=zAxis[0],dst[9]=zAxis[1],dst[10]=zAxis[2],dst[11]=0,dst[12]=this.position[0],dst[13]=this.position[1],dst[14]=this.position[2],dst[15]=1,this.matrix=dst,dst}},{key:"setAspectRatio",value:function(aspectRatio){this.aspectRatio=aspectRatio,this.perspective(this.fov,aspectRatio,this.near,this.far)}},{key:"perspective",value:function(fov,aspect,near,far,dst){this.fov=fov,this.near=near,this.far=far,dst=dst||new Float32Array(16);var f=Math.tan(.5*Math.PI-.5*fov),rangeInv=1/(near-far);return dst[0]=f/aspect,dst[1]=0,dst[2]=0,dst[3]=0,dst[4]=0,dst[5]=f,dst[6]=0,dst[7]=0,dst[8]=0,dst[9]=0,dst[10]=(near+far)*rangeInv,dst[11]=-1,dst[12]=0,dst[13]=0,dst[14]=near*far*rangeInv*2,dst[15]=0,this.projection=_Matrices2["default"].multiply(dst,_Matrices2["default"].inverse(this.matrix)),this.projection}},{key:"orthographic",value:function(left,right,bottom,top,near,far,dst){return dst=dst||new Float32Array(16),dst[0]=2/(right-left),dst[1]=0,dst[2]=0,dst[3]=0,dst[4]=0,dst[5]=2/(top-bottom),dst[6]=0,dst[7]=0,dst[8]=0,dst[9]=0,dst[10]=2/(near-far),dst[11]=0,dst[12]=(left+right)/(left-right),dst[13]=(bottom+top)/(bottom-top),dst[14]=(near+far)/(near-far),dst[15]=1,dst}}]),Camera}();exports["default"]=Camera,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function isSame(array1,array2){if(array1.length!==array2.length)return!1;for(var i=0;i<array1.length;i++)if(array1[i]!==array2[i])return!1;return!0}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(4),_createClass3=_interopRequireDefault(_createClass2),_GLHelpers=__webpack_require__(2),_GLHelpers2=_interopRequireDefault(_GLHelpers),gl=void 0,uniformMapping={
"float":"uniform1f",vec2:"uniform2fv",vec3:"uniform3fv",vec4:"uniform4fv","int":"uniform1i",mat3:"uniformMatrix3fv",mat4:"uniformMatrix4fv"},GLShader=function(){function GLShader(vertexShader,fragmentShader){(0,_classCallCheck3["default"])(this,GLShader),gl=_GLHelpers2["default"].gl,this.parameters=[],this.uniformTextures=[];var vsShader=this._createShaderProgram(vertexShader,!0),fsShader=this._createShaderProgram(fragmentShader,!1);this._attachShaderProgram(vsShader,fsShader)}return(0,_createClass3["default"])(GLShader,[{key:"bind",value:function(){_GLHelpers2["default"].shader!==this&&(gl.useProgram(this.shaderProgram),_GLHelpers2["default"].useShader(this),this.uniformTextures=[])}},{key:"uniform",value:function(mName,mType,mValue){function cloneArray(mArray){return mArray.slice?mArray.slice(0):new Float32Array(mArray)}if(void 0!==mValue&&null!==mValue){for(var uniformType=uniformMapping[mType]||mType,isNumber="uniform1i"===uniformType||"uniform1f"===uniformType,hasUniform=!1,oUniform=void 0,parameterIndex=-1,i=0;i<this.parameters.length;i++)if(oUniform=this.parameters[i],oUniform.name===mName){hasUniform=!0,parameterIndex=i;break}if(hasUniform?this.shaderProgram[mName]=oUniform.uniformLoc:(this.shaderProgram[mName]=gl.getUniformLocation(this.shaderProgram,mName),isNumber?this.parameters.push({name:mName,type:uniformType,value:mValue,uniformLoc:this.shaderProgram[mName]}):this.parameters.push({name:mName,type:uniformType,value:cloneArray(mValue),uniformLoc:this.shaderProgram[mName]}),parameterIndex=this.parameters.length-1),this.parameters[parameterIndex].uniformLoc)if(uniformType.indexOf("Matrix")===-1)if(isNumber){var needUpdate=this.parameters[parameterIndex].value!==mValue||!hasUniform;needUpdate&&(gl[uniformType](this.shaderProgram[mName],mValue),this.parameters[parameterIndex].value=mValue)}else isSame(this.parameters[parameterIndex].value,mValue)&&hasUniform||(gl[uniformType](this.shaderProgram[mName],mValue),this.parameters[parameterIndex].value=cloneArray(mValue));else isSame(this.parameters[parameterIndex].value,mValue)&&hasUniform||(gl[uniformType](this.shaderProgram[mName],!1,mValue),this.parameters[parameterIndex].value=cloneArray(mValue))}}},{key:"createProgram",value:function(gl,shaders,opt_attribs,opt_locations,opt_errorCallback){var errFn=function(msg){},program=gl.createProgram();shaders.forEach(function(shader){gl.attachShader(program,shader)}),opt_attribs&&opt_attribs.forEach(function(attrib,ndx){gl.bindAttribLocation(program,opt_locations?opt_locations[ndx]:ndx,attrib)}),gl.linkProgram(program);var linked=gl.getProgramParameter(program,gl.LINK_STATUS);if(!linked){var lastError=gl.getProgramInfoLog(program);return errFn("Error in program linking:"+lastError),gl.deleteProgram(program),null}return program}},{key:"createProgramFromScripts",value:function(gl,shadersSources,opt_attribs,opt_locations,opt_errorCallback){var shaders=[this.vsShader,this.fsShader];this.shaderProgram=this.createProgram(gl,shaders,opt_attribs,opt_locations,opt_errorCallback)}},{key:"_createShaderProgram",value:function(mShaderStr,isVertexShader){var shaderType=isVertexShader?gl.VERTEX_SHADER:gl.FRAGMENT_SHADER,shader=gl.createShader(shaderType);return gl.shaderSource(shader,mShaderStr),gl.compileShader(shader),gl.getShaderParameter(shader,gl.COMPILE_STATUS)?shader:null}},{key:"_createShaderProgram",value:function(mShaderStr,isVertexShader){var shaderType=isVertexShader?_GLHelpers2["default"].gl.VERTEX_SHADER:_GLHelpers2["default"].gl.FRAGMENT_SHADER,shader=gl.createShader(shaderType);return gl.shaderSource(shader,mShaderStr),gl.compileShader(shader),gl.getShaderParameter(shader,gl.COMPILE_STATUS)?shader:null}},{key:"_attachShaderProgram",value:function(mVertexShader,mFragmentShader){this.shaderProgram=gl.createProgram(),this.shaderProgram.id=10*Math.random(),gl.attachShader(this.shaderProgram,mVertexShader),gl.attachShader(this.shaderProgram,mFragmentShader),gl.linkProgram(this.shaderProgram)}}]),GLShader}();exports["default"]=GLShader,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(4),_createClass3=_interopRequireDefault(_createClass2),_Matrices=__webpack_require__(95),_Matrices2=_interopRequireDefault(_Matrices),OrbitalControl=function(){function OrbitalControl(){(0,_classCallCheck3["default"])(this,OrbitalControl),this.offsetPosition=[0,0,0],this.position=[0,0,0],this.target=[0,0,0],this.up=[0,1,0],this.radius=800,this.angleA=0,this.angleB=0,this.tr=0}return(0,_createClass3["default"])(OrbitalControl,[{key:"update",value:function(){this.position[1]=Math.sin(this.angleB)*this.radius,this.tr=Math.cos(this.angleB)*this.radius,this.position[0]=Math.cos(this.angleA)*this.tr,this.position[2]=Math.sin(this.angleA)*this.tr,this.position=_Matrices2["default"].addVectors(this.position,this.offsetPosition)}}]),OrbitalControl}();exports["default"]=OrbitalControl,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(4),_createClass3=_interopRequireDefault(_createClass2),_ViewPlane=__webpack_require__(100),_ViewPlane2=_interopRequireDefault(_ViewPlane),_ViewPlaneDetailed=__webpack_require__(106),_ViewPlaneDetailed2=_interopRequireDefault(_ViewPlaneDetailed),Floor=function(){function Floor(){(0,_classCallCheck3["default"])(this,Floor),this.viewPlane=new _ViewPlane2["default"],this.viewPlaneDetailed=new _ViewPlaneDetailed2["default"]}return(0,_createClass3["default"])(Floor,[{key:"render",value:function(){this.viewPlaneDetailed.render(),this.viewPlane.render()}}]),Floor}();exports["default"]=Floor,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(4),_createClass3=_interopRequireDefault(_createClass2),_GLShader=__webpack_require__(97),_GLShader2=_interopRequireDefault(_GLShader),_Plane=__webpack_require__(101),_PlaneSquare=(_interopRequireDefault(_Plane),__webpack_require__(103)),_PlaneSquare2=_interopRequireDefault(_PlaneSquare),_plane=__webpack_require__(104),_plane2=_interopRequireDefault(_plane),_plane3=__webpack_require__(105),_plane4=_interopRequireDefault(_plane3),ViewPlane=function(){function ViewPlane(){(0,_classCallCheck3["default"])(this,ViewPlane),this.shader=new _GLShader2["default"](_plane2["default"],_plane4["default"]),this.shader.bind(),this.plane=new _PlaneSquare2["default"](this.shader.shaderProgram,3e3,3e3,20,"xz",(void 0),GL.gl.LINES),this.plane.position=[0,0,0],this.shader.uniform("alpha","float",.2)}return(0,_createClass3["default"])(ViewPlane,[{key:"render",value:function(){this.shader.bind(),GL.draw(this.plane)}}]),ViewPlane}();exports["default"]=ViewPlane,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(24),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(4),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(35),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(86),_inherits3=_interopRequireDefault(_inherits2),_GLHelpers=__webpack_require__(2),_GLHelpers2=_interopRequireDefault(_GLHelpers),_Mesh2=__webpack_require__(102),_Mesh3=_interopRequireDefault(_Mesh2),gl=void 0,pivotX=void 0,pivotY=void 0,Plane=function(_Mesh){function Plane(program,w,h,subdivision,axis){var attribPositionName=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"a_position",drawMode=arguments.length>6&&void 0!==arguments[6]?arguments[6]:_GLHelpers2["default"].gl.TRIANGLES;(0,_classCallCheck3["default"])(this,Plane);var _this=(0,_possibleConstructorReturn3["default"])(this,(Plane.__proto__||(0,_getPrototypeOf2["default"])(Plane)).call(this,program,drawMode));return gl=_GLHelpers2["default"].gl,_this.attribPositionName=attribPositionName,_this.subdivision=subdivision,_this.axis=axis||"xy",_this.w=w,_this.h=h,_this.plane(_this.w,_this.h,_this.subdivision,_this.axis),_this}return(0,_inherits3["default"])(Plane,_Mesh),(0,_createClass3["default"])(Plane,[{key:"plane",value:function(w,h,subdivision,axis){pivotX=-this.w/2,pivotY=-this.h/2;for(var positions=[],indices=[],index=0,i=0;i<subdivision;i++)for(var j=0;j<subdivision;j++)"xy"===this.axis?(positions.push(this.getPos(i,j)),positions.push(this.getPos(i+1,j)),positions.push(this.getPos(i+1,j+1)),positions.push(this.getPos(i,j+1))):(positions.push(this.getPos(i,j)),positions.push(this.getPos(i+1,j)),positions.push(this.getPos(i+1,j+1)),positions.push(this.getPos(i,j+1))),indices.push(4*index+0),indices.push(4*index+1),indices.push(4*index+2),indices.push(4*index+0),indices.push(4*index+2),indices.push(4*index+3),index++;this.bufferIndex(indices),this.bufferVertex(positions,!1,this.attribPositionName)}},{key:"getPos",value:function(i,j){var x=this.w/this.subdivision*i+pivotX,y=this.h/this.subdivision*j+pivotY,z=0;return"xy"===this.axis?[x,y,z]:[x,0,y]}},{key:"render",value:function(){}}]),Plane}(_Mesh3["default"]);exports["default"]=Plane,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(4),_createClass3=_interopRequireDefault(_createClass2),gl=void 0,Mesh=function(){function Mesh(program){var drawingType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;(0,_classCallCheck3["default"])(this,Mesh),this.program=program,gl=GL.gl,this.position=[0,0,0],this.rotation=[0,0,0],this.drawType=drawingType,this._attributes=[],this._instancedAttributes=[],this._vertexSize=0,this._vertices=[],this._texCoords=[],this._normals=[],this._faceNormals=[],this._tangents=[],this._indices=[],this._faces=[]}return(0,_createClass3["default"])(Mesh,[{key:"bufferVertex",value:function(mArrayVertices){var isDynamic=arguments.length>1&&void 0!==arguments[1]&&arguments[1],posAttribName=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"a_position";this._vertexSize=mArrayVertices.length,this.bufferData(mArrayVertices,posAttribName,3,isDynamic),this._vertices=mArrayVertices}},{key:"bufferTexCoord",value:function(mArrayTexCoords){var isDynamic=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.bufferData(mArrayTexCoords,"a_textureCoord",2,isDynamic),this._texCoords=mArrayTexCoords}},{key:"bufferNormal",value:function(mNormals){var isDynamic=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.bufferData(mNormals,"a_normal",3,isDynamic),this._normals=mNormals}},{key:"bufferIndex",value:function(mArrayIndices){var isDynamic=arguments.length>1&&void 0!==arguments[1]&&arguments[1],drawType=isDynamic?gl.DYNAMIC_DRAW:gl.STATIC_DRAW;this._indices=mArrayIndices,this.iBuffer||(this.iBuffer=gl.createBuffer()),gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,this.iBuffer),gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(mArrayIndices),drawType),this.iBuffer.itemSize=1,this.iBuffer.numItems=mArrayIndices.length}},{key:"bufferData",value:function bufferData(mData,mName,mItemSize){var isDynamic=arguments.length>3&&void 0!==arguments[3]&&arguments[3],index=-1,i=0,drawType=isDynamic?gl.DYNAMIC_DRAW:gl.STATIC_DRAW,bufferData=[],buffer=void 0,dataArray=void 0;for(mItemSize||(mItemSize=mData[0].length),i=0;i<this._attributes.length;i++)if(this._attributes[i].name===mName){this._attributes[i].data=mData,index=i;break}for(i=0;i<mData.length;i++)for(var j=0;j<mData[i].length;j++)bufferData.push(mData[i][j]);if(index===-1)buffer=gl.createBuffer(),gl.bindBuffer(gl.ARRAY_BUFFER,buffer),dataArray=new Float32Array(bufferData),gl.bufferData(gl.ARRAY_BUFFER,dataArray,drawType),this._attributes.push({name:mName,data:mData,itemSize:mItemSize,buffer:buffer,dataArray:dataArray});else{buffer=this._attributes[index].buffer,gl.bindBuffer(gl.ARRAY_BUFFER,buffer),dataArray=new Float32Array(bufferData),gl.bufferData(gl.ARRAY_BUFFER,dataArray,drawType);var attribute=this._attributes.find(function(a){return a.name===mName});attribute.data=mData,attribute.itemSize=mItemSize,attribute.dataArray=dataArray}}}]),Mesh}();exports["default"]=Mesh,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(24),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(4),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(35),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(86),_inherits3=_interopRequireDefault(_inherits2),_GLHelpers=__webpack_require__(2),_GLHelpers2=_interopRequireDefault(_GLHelpers),_Mesh2=__webpack_require__(102),_Mesh3=_interopRequireDefault(_Mesh2),gl=void 0,pivotX=void 0,pivotY=void 0,PlaneSquare=function(_Mesh){function PlaneSquare(program,w,h,subdivision,axis){var attribPositionName=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"a_position",drawMode=arguments[6];(0,_classCallCheck3["default"])(this,PlaneSquare),drawMode=drawMode||_GLHelpers2["default"].gl.POINTS;var _this=(0,_possibleConstructorReturn3["default"])(this,(PlaneSquare.__proto__||(0,_getPrototypeOf2["default"])(PlaneSquare)).call(this,program,drawMode));return gl=_GLHelpers2["default"].gl,_this.attribPositionName=attribPositionName,_this.subdivision=subdivision,_this.axis=axis||"xy",_this.w=w,_this.h=h,_this.plane(_this.w,_this.h,_this.subdivision,_this.axis),_this}return(0,_inherits3["default"])(PlaneSquare,_Mesh),(0,_createClass3["default"])(PlaneSquare,[{key:"plane",value:function(w,h,subdivision,axis){pivotX=-this.w/2,pivotY=-this.h/2;for(var positions=[],indices=[],index=0,i=0;i<subdivision;i++)for(var j=0;j<subdivision;j++)"xy"===this.axis?(positions.push(this.getPos(i,j)),positions.push(this.getPos(i+1,j)),positions.push(this.getPos(i+1,j+1)),positions.push(this.getPos(i,j+1))):(positions.push(this.getPos(i,j+1)),positions.push(this.getPos(i+1,j+1)),positions.push(this.getPos(i+1,j)),positions.push(this.getPos(i,j))),indices.push(4*index+0),indices.push(4*index+1),indices.push(4*index+2),indices.push(4*index+3),indices.push(4*index+2),indices.push(4*index+1),index++;this.bufferIndex(indices),this.bufferVertex(positions,!1,this.attribPositionName)}},{key:"getPos",value:function(i,j){var x=this.w/this.subdivision*i+pivotX,y=this.h/this.subdivision*j+pivotY,z=0;return"xy"===this.axis?[x+this.position[0],y+this.position[1],z+this.position[2]]:[x+this.position[2],z+this.position[1],y+this.position[0]]}}]),PlaneSquare}(_Mesh3["default"]);exports["default"]=PlaneSquare,module.exports=exports["default"]},function(module,exports){module.exports="#define GLSLIFY 1\nattribute vec4 a_position;\n\nuniform mat4 u_world;\nuniform mat4 u_worldViewProjection;\n// uniform mat4 u_worldInverseTranspose;\n\n\nvoid main() {\n  // Multiply the position by the matrix.\n\n  vec3 surfaceWorldPosition = (u_world * a_position).xyz;\n\n\n  vec3 position = a_position.xyz;\n\n  // position.yz = rotate(position.yz, sin(time * 0.1));\n  // position.xz = rotate(position.xz, time * 2.1);\n\n  gl_Position = u_worldViewProjection * vec4(position, a_position.w);\n\n}\n"},function(module,exports){module.exports="precision mediump float;\n#define GLSLIFY 1\n\n\nuniform float alpha;\n\nvoid main() {\n  vec3 color = vec3(.2,.2,.2);\n\n  gl_FragColor = vec4(color, 1.0);\n  gl_FragColor *= .1;\n}\n"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(4),_createClass3=_interopRequireDefault(_createClass2),_GLShader=__webpack_require__(97),_GLShader2=_interopRequireDefault(_GLShader),_Plane=__webpack_require__(101),_Plane2=_interopRequireDefault(_Plane),_PlaneSquare=__webpack_require__(103),_plane=(_interopRequireDefault(_PlaneSquare),__webpack_require__(104)),_plane2=_interopRequireDefault(_plane),_plane_opacity_less=__webpack_require__(107),_plane_opacity_less2=_interopRequireDefault(_plane_opacity_less),ViewPlaneDetailed=function(){function ViewPlaneDetailed(){(0,_classCallCheck3["default"])(this,ViewPlaneDetailed),this.shader=new _GLShader2["default"](_plane2["default"],_plane_opacity_less2["default"]),this.shader.bind(),this.plane=new _Plane2["default"](this.shader.shaderProgram,3e3,3e3,60,"xz",(void 0),GL.gl.POINTS)}return(0,_createClass3["default"])(ViewPlaneDetailed,[{key:"drawPlane",value:function(){}},{key:"render",value:function(){this.shader.bind(),GL.draw(this.plane)}}]),ViewPlaneDetailed}();exports["default"]=ViewPlaneDetailed,module.exports=exports["default"]},function(module,exports){module.exports="precision mediump float;\n#define GLSLIFY 1\n\n\nuniform float alpha;\n\nvoid main() {\n  vec3 color = vec3(1.0,1.0,1.0);\n\n  gl_FragColor = vec4(color, 1.0);\n  gl_FragColor *= .6;\n}\n"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(4),_createClass3=_interopRequireDefault(_createClass2),_GLShader=__webpack_require__(97),_GLShader2=_interopRequireDefault(_GLShader),_Plane=__webpack_require__(101),_Plane2=_interopRequireDefault(_Plane),_plane_bg=__webpack_require__(109),_plane_bg2=_interopRequireDefault(_plane_bg),_plane_bg3=__webpack_require__(110),_plane_bg4=_interopRequireDefault(_plane_bg3),ViewBackground=function(){function ViewBackground(){(0,_classCallCheck3["default"])(this,ViewBackground),this.shader=new _GLShader2["default"](_plane_bg2["default"],_plane_bg4["default"]),this.shader.bind(),this.plane=new _Plane2["default"](this.shader.shaderProgram,4e3,4e3,20,"xy")}return(0,_createClass3["default"])(ViewBackground,[{key:"render",value:function(){this.shader.bind(),this.shader.uniform("resolutions","vec2",[window.innerWidth,window.innerHeight]),this.shader.uniform("colorTop","vec3",[239/255,246/255,247/255]),this.shader.uniform("colorBottom","vec3",[12/255,98/255,137/255]),GL.draw(this.plane)}}]),ViewBackground}();exports["default"]=ViewBackground,module.exports=exports["default"]},function(module,exports){module.exports="#define GLSLIFY 1\nattribute vec4 a_position;\n\nuniform mat4 u_world;\nuniform mat4 u_worldViewProjection;\n// uniform mat4 u_worldInverseTranspose;\n\n\nvoid main() {\n  // Multiply the position by the matrix.\n\n  // vec3 surfaceWorldPosition = (u_world * a_position).xyz;\n\n\n  vec3 position = a_position.xyz;\n\n  // position.yz = rotate(position.yz, sin(time * 0.1));\n  // position.xz = rotate(position.xz, time * 2.1);\n\n  gl_Position = vec4(position, a_position.w);\n\n}\n"},function(module,exports){module.exports="precision mediump float;\n#define GLSLIFY 1\n\nuniform vec2 resolutions;\nuniform vec3 colorBottom;\nuniform vec3 colorTop;\n\nfloat plot(vec2 st, float pct){\n  return  smoothstep( pct-0.02, pct, st.y) -\n          smoothstep( pct, pct+0.02, st.y);\n}\n\nvoid main() {\n\n  vec2 st = gl_FragCoord.xy/resolutions;\n  float y = pow(st.y - 1.05, 5.0);\n\n  // vec3 colorBottom = vec3(12.0/255.0, 98.0/255.0, 137.0/255.0);\n  // vec3 colorTop = vec3(239.0/255.0, 246.0/255.0, 247.0/255.0);\n\n  vec3 color = mix(colorBottom, colorTop, 1.0- y);\n  gl_FragColor = vec4(color, 1);\n}\n\n\n// precision mediump float;\n//\n// uniform vec2 resolutions;\n//\n// float plot (vec2 st, float pct){\n//   return  smoothstep( pct, pct, st.y) -\n//           smoothstep( pct, pct, st.y);\n// }\n//\n// void main() {\n//\n//   vec3 colorBottom = vec3(239.0/255.0, 246.0/255.0, 247.0/255.0);\n//   vec3 colorTop = vec3(10.0/255.0, 50.0/255.0, 57.0/255.0);\n//\n//   vec2 st = gl_FragCoord.xy/resolutions.xy;\n//\n//   vec3 pct = vec3(1.0 - st.y);\n//   vec3 color = mix(colorBottom, colorTop, pct);\n//\n//     // Plot transition lines for each channel\n//   color = mix(color,vec3(1.0,0.0,0.0),plot(st,pct.r));\n//   color = mix(color,vec3(0.0,1.0,0.0),plot(st,pct.g));\n//   color = mix(color,vec3(0.0,0.0,1.0),plot(st,pct.b));\n//\n//\n//   // vec3 color = mix(colorBottom, colorTop, 1.0 - gl_FragCoord.y/resolutions.y);\n//   gl_FragColor = vec4(color, 1);\n// }\n"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(4),_createClass3=_interopRequireDefault(_createClass2),_GLShader=__webpack_require__(97),_GLShader2=_interopRequireDefault(_GLShader),_Plane=__webpack_require__(101),_Plane2=_interopRequireDefault(_Plane),_plane=__webpack_require__(112),_plane2=_interopRequireDefault(_plane),_plane3=__webpack_require__(113),_plane4=_interopRequireDefault(_plane3),ViewPlane=function(){function ViewPlane(){(0,_classCallCheck3["default"])(this,ViewPlane),this.shader=new _GLShader2["default"](_plane2["default"],_plane4["default"]),this.shader.bind(),this.plane=new _Plane2["default"](this.shader.shaderProgram,1e3,1e3,1,"xydwdw")}return(0,_createClass3["default"])(ViewPlane,[{key:"render",value:function(){this.shader.bind(),this.plane.render()}}]),ViewPlane}();exports["default"]=ViewPlane,module.exports=exports["default"]},function(module,exports){module.exports="#define GLSLIFY 1\nattribute vec4 a_position;\n\nuniform mat4 u_world;\nuniform mat4 u_worldViewProjection;\n// uniform mat4 u_worldInverseTranspose;\n\n\nvoid main() {\n  // Multiply the position by the matrix.\n\n  vec3 surfaceWorldPosition = (u_world * a_position).xyz;\n\n\n  vec3 position = a_position.xyz;\n\n  // position.yz = rotate(position.yz, sin(time * 0.1));\n  // position.xz = rotate(position.xz, time * 2.1);\n\n  gl_Position = u_worldViewProjection * vec4(position, a_position.w);\n\n}\n"},function(module,exports){module.exports="precision mediump float;\n#define GLSLIFY 1\n\n\nvoid main() {\n  vec3 color = vec3(0,0,0);\n  gl_FragColor = vec4(color, .4);\n}\n"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(4),_createClass3=_interopRequireDefault(_createClass2),_GLShader=__webpack_require__(97),_GLShader2=_interopRequireDefault(_GLShader),_Matrices=__webpack_require__(95),_Matrices2=_interopRequireDefault(_Matrices),_weirdSphere=__webpack_require__(115),_weirdSphere2=_interopRequireDefault(_weirdSphere),_weirdSphere3=__webpack_require__(116),_weirdSphere4=_interopRequireDefault(_weirdSphere3),_Sphere=__webpack_require__(117),_Sphere2=_interopRequireDefault(_Sphere),ViewSphere=function(){function ViewSphere(){(0,_classCallCheck3["default"])(this,ViewSphere),this.tick=0,this.shader=new _GLShader2["default"](_weirdSphere2["default"],_weirdSphere4["default"]),this.shader.bind(),this.sphere=new _Sphere2["default"](this.shader.shaderProgram,128,150),this.sphere.position=[0,200,100],this.back=!1;var rot=_Matrices2["default"].identity();rot=_Matrices2["default"].multiply(rot,_Matrices2["default"].yRotate(rot,Math.PI)),this.shader.uniform("back","float",1),this.shader.uniform("time","float",0),this.shader.uniform("u_matrix","mat4",rot),this.backValue=0,this.targetValue=0}return(0,_createClass3["default"])(ViewSphere,[{key:"render",value:function(){this.shader.bind(),this.tick++,this.time=10*Math.cos(this.tick/200+Math.PI/2),this.shader.uniform("time","float",this.time),GL.draw(this.sphere)}}]),ViewSphere}();exports["default"]=ViewSphere,module.exports=exports["default"]},function(module,exports){module.exports="#define GLSLIFY 1\nattribute vec4 a_position;\nuniform mat4 u_world;\nuniform mat4 u_worldViewProjection;\n\nuniform float back;\nuniform float time;\nuniform mat4 u_matrix;\n\nvarying vec3 v_normal;\n\n\n\nvoid main() {\n  // Multiply the position by the matrix.\n\n  // v_normal = normalize(a_position.xyz);\n\n  vec3 surfaceWorldPosition = (u_world * a_position).xyz;\n\n  vec3 position = a_position.xyz;\n  v_normal = normalize(position.xyz);\n  // float noise = cos( time / 100.0 * a_position.x ) * sin( time / 200.0 * a_position.y );\n  float noise;\n  //\n  // if(back > 0.0){\n  //\n  // }\n  // else{\n  // }\n    noise = cos(a_position.x * (time / 20.0) * .5) * .5;\n  // noise = sin(a_position.x * (time / 20.0) * .5) * .5;\n\n  // float noise = snoise(a_position.xyz + (time / 20.0) * .5) * .5;\n\n\n/*\n  const float noise_scale = 0.1;\n  const float dist = 5;\n  vec3 offset = snoise(a_position * noise_scale) * dist;\n  a_position += normalize(a_position.xyz) * offset;\n  */\n\n\tposition.x \t+= back * v_normal.x * noise  * 3.0 * 15.0 ;\n\tv_normal.x \t+= back * v_normal.x * noise  * 3.0 * 1.0 ;\n\n  gl_Position =  u_matrix * u_worldViewProjection * vec4(position, 1.0);\n\n\n}\n"},function(module,exports){module.exports="precision mediump float;\n#define GLSLIFY 1\n\nvarying vec3 v_normal;\n\nfloat diffuse(vec3 N, vec3 L) {\n  return max(dot(N, normalize(L)), 0.0);\n}\n\nfloat diffuse(vec3 N, vec3 L, float density) {\n  return diffuse(N, L) * density;\n}\n\n\nvec3 diffuse(vec3 N, vec3 L, float density, vec3 color) {\n  return diffuse(N, L, density) * color;\n}\n\n\n#define fade 1.0\n#define LIGHT_YELLOW vec3(fade, fade, -fade)\n#define LIGHT_BLUE vec3(50.0, -fade, 0.0)\n\nvoid main() {\n\n  float _diffuseYellow = diffuse(v_normal, LIGHT_YELLOW, .5);\n  float _diffuseBlue = diffuse(v_normal, LIGHT_BLUE, .5);\n  float _diffuse = _diffuseYellow + _diffuseBlue;\n\n  _diffuse *= 1.6;\n  if(_diffuse < .2){\n    _diffuse = .2;\n  }\n\n  // vec3 color1 = vec3(0, 1, 1);\n  // vec3 color2 = vec3(1, 1, 1);\n  vec3 color = vec3(0,1,1);\n  // vec3 color = mix(color1, color2, _diffuse);\n  gl_FragColor = vec4(color,1);\n  gl_FragColor.rgb *= _diffuse;\n\n}\n"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(24),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(4),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(35),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(86),_inherits3=_interopRequireDefault(_inherits2),_GLHelpers=__webpack_require__(2),_Mesh2=(_interopRequireDefault(_GLHelpers),__webpack_require__(102)),_Mesh3=_interopRequireDefault(_Mesh2),Sphere=function(_Mesh){function Sphere(program,nbVert,radius){var attribPositionName=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"a_position",drawMode=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"GL.gl.TRIANGLES";(0,_classCallCheck3["default"])(this,Sphere);var _this=(0,_possibleConstructorReturn3["default"])(this,(Sphere.__proto__||(0,_getPrototypeOf2["default"])(Sphere)).call(this,program,drawMode));return _this.attribPositionName=attribPositionName,_this.nbVert=nbVert,_this.radius=radius,_this.sphere(),_this}return(0,_inherits3["default"])(Sphere,_Mesh),(0,_createClass3["default"])(Sphere,[{key:"sphere",value:function(){for(var positions=[],indices=[],index=0,i=0;i<this.nbVert;i++)for(var j=0;j<this.nbVert;j++)positions.push(this.getAngle(i,j)),positions.push(this.getAngle(i+1,j)),positions.push(this.getAngle(i+1,j+1)),positions.push(this.getAngle(i,j+1)),indices.push(4*index+0),indices.push(4*index+1),indices.push(4*index+2),indices.push(4*index+0),indices.push(4*index+2),indices.push(4*index+3),index++;this.bufferIndex(indices),this.bufferVertex(positions,!1,this.attribPositionName)}},{key:"getAngle",value:function(i,j){var ry=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],j/this.nbVert*Math.PI*2-Math.PI),rx=i/this.nbVert*Math.PI-.5*Math.PI,r=this.radius,pos=[];pos[1]=Math.sin(rx)*r;var t=Math.cos(rx)*r;return pos[0]=Math.cos(ry)*t,pos[2]=Math.sin(ry)*t,[pos[0],pos[1],pos[2]]}},{key:"render",value:function(){}}]),Sphere}(_Mesh3["default"]);exports["default"]=Sphere,module.exports=exports["default"]},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Easings=function(){this.updating=!1,this.iterationCount=0,this.tweens=[]};Easings.prototype.killTweensOf=function(obj){for(var i=0;i<this.tweens.length;i++){var t=this.tweens[i];t.obj===obj&&t.obj.id===obj.id&&(t=null,this.tweens.splice(i,1),i--)}},Easings.prototype.to=function(obj,duration,vars,test){var tween={"delete":!1,currentIteration:0,isArray:!1,obj:obj,vars:vars,delay:60*vars.delay||0,isDelayed:!!(vars.delay&&vars.delay>0),duration:60*duration,ease:vars.ease||this.easeLinear};if(obj instanceof Array){tween.isArray=!0;var varToTween=[];for(var v in vars)if("delay"!==v&&"duration"!==v&&!this.isFunction(vars[v])){for(var object={"var":v,toValue:vars[v]},values=[],i=0;i<obj.length;i++)values.push(obj[i]);object.value=values,varToTween.push(object)}}else{var varToTween=[];for(var v in vars)if("delay"!==v&&"duration"!==v&&!this.isFunction(vars[v])&&"forceTween"!==v){for(var i=0;i<this.tweens.length;i++){var t=this.tweens[i];if(t.obj===obj)for(var k=0;k<t.props.length;k++){var variableToTween=t.props[k];variableToTween["var"]!==v||0!==tween.delay&&!tween.vars.forceTween||(t["delete"]=!0,this.tweens.splice(i,1),i--)}}varToTween.push({"var":v,value:obj[v],toValue:vars[v]})}}tween.props=varToTween,this.tweens.push(tween),this.updating||(this.updating=!0)},Easings.prototype.isFunction=function(obj){return!!(obj&&obj.constructor&&obj.call&&obj.apply)},Easings.prototype.updateArray=function(tween){var o=tween;if(o.delay>0)o.delay--;else{for(var i=0;i<o.obj.length;i++){o.obj[i];o.obj[i]=o.ease(o.currentIteration,o.props[0].value[i],o.props[0].toValue[i]-o.props[0].value[i],o.duration)}o.currentIteration++,o.currentIteration>o.duration&&(o.vars.onComplete&&o.vars.onComplete(),o["delete"]=!0)}},Easings.prototype.update=function(){if(this.updating){for(var i=0;i<this.tweens.length;i++){
var o=this.tweens[i];if(o.isArray)this.updateArray(o);else if(o.isDelayed){if(o.delay>0)o.delay-=1;else if(o.delay<=0){o.isDelayed=!1;for(var k=0;k<o.props.length;k++){var e=o.props[k];e.value=o.obj[e["var"]]}}}else{for(var k=0;k<o.props.length;k++){var e=o.props[k];o.obj[e["var"]]=o.ease(o.currentIteration,e.value,e.toValue-e.value,o.duration)}o.vars.onUpdate&&o.vars.onUpdate.apply(this,o.vars.onUpdateParams),o.currentIteration+=1,o.currentIteration>o.duration&&(o.vars.onComplete&&o.vars.onComplete.apply(this,o.vars.onCompleteParams),o["delete"]=!0)}}for(var i=0;i<this.tweens.length;i++){var o=this.tweens[i];o["delete"]&&(o=null,this.tweens.splice(i,1),i--)}0===this.tweens.length&&(this.updating=!1)}},Easings.prototype.easeLinear=function(t,b,c,d){return t/=d,c*t+b},Easings.prototype.easeInSine=function(t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b},Easings.prototype.easeOutSine=function(t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b},Easings.prototype.easeInExpo=function(t,b,c,d){return c*Math.pow(2,10*(t/d-1))+b},Easings.prototype.elasticOutSoft=function(t,b,c,d){var s=1.0158,p=0,a=c;if(0==t)return b;if(1==(t/=d))return b+c;if(p||(p=.3*d),a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b},Easings.prototype.easeOutBack=function(t,b,c,d){var s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},Easings.prototype.easeOutBackSoft=function(t,b,c,d){var s=1.30158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},Easings.prototype.elasticOut=function(t,b,c,d){var s=1.70158,p=0,a=c;if(0==t)return b;if(1==(t/=d))return b+c;if(p||(p=.3*d),a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b},Easings.prototype.easeInCubic=function(t,b,c,d){return t/=d,c*t*t*t+b},Easings.prototype.easeOutCubic=function(t,b,c,d){return t/=d,t--,c*(t*t*t+1)+b},Easings.prototype.easeInOutSine=function(t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b},Easings.prototype.easeInBack=function(x,t,b,c,d,s){return void 0==s&&(s=1.70158),c*(t/=d)*t*((s+1)*t-s)+b},Easings.prototype.easeInOutExpo=function(t,b,c,d){return t/=d/2,t<1?c/2*Math.pow(2,10*(t-1))+b:(t--,c/2*(-Math.pow(2,-10*t)+2)+b)},Easings.prototype.easeInOutQuint=function(t,b,c,d){return t/=d/2,t<1?c/2*t*t*t*t*t+b:(t-=2,c/2*(t*t*t*t*t+2)+b)},Easings.prototype.easeInOutCirc=function(t,b,c,d){return t/=d/2,t<1?-c/2*(Math.sqrt(1-t*t)-1)+b:(t-=2,c/2*(Math.sqrt(1-t*t)+1)+b)},Easings.prototype.easeOutCirc=function(t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b},Easings.instance=new Easings,module.exports=Easings}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(4),_createClass3=_interopRequireDefault(_createClass2),_GLShader=__webpack_require__(97),_GLShader2=_interopRequireDefault(_GLShader),_Line=__webpack_require__(120),_Line2=_interopRequireDefault(_Line),_bezier=__webpack_require__(121),_CatmullRomSpline=(_interopRequireDefault(_bezier),__webpack_require__(126)),_CurvePoints=(_interopRequireDefault(_CatmullRomSpline),__webpack_require__(127)),_CurvePoints2=_interopRequireDefault(_CurvePoints),_Matrices=__webpack_require__(95),_Matrices2=_interopRequireDefault(_Matrices),_RamerDouglasPeucker=__webpack_require__(128),_RamerDouglasPeucker2=_interopRequireDefault(_RamerDouglasPeucker),_line=__webpack_require__(129),_line2=_interopRequireDefault(_line),_line3=__webpack_require__(130),_line4=_interopRequireDefault(_line3),tempArray=[],tempArray2=[],ViewLine=function(){function ViewLine(){var _this=this;(0,_classCallCheck3["default"])(this,ViewLine),this.spline=new _CurvePoints2["default"]([]),this.binomialCoefficients=[],this.shader=new _GLShader2["default"](_line2["default"],_line4["default"]),this.shader.bind(),this.currentPos=[0,0],this.rdp=_RamerDouglasPeucker2["default"].instance,this.tick=0,this.points=[];for(var i=0;i<20;i++)this.points.push([2e3*Math.random()-1e3,1e3*Math.random()-500,1200*Math.random()-600]);this.ptsForBezier=this.getControlPoints(this.points),this.finalPoints=[];var finalP=this.getPoints(this.points);this.shader=new _GLShader2["default"](_line2["default"],_line4["default"]),this.shader.bind(),this.line=new _Line2["default"](this.shader.shaderProgram,finalP),window.addEventListener("mousemove",function(e){_this.mouseMove(e.clientX-window.innerWidth/2,e.clientY-window.innerHeight/2)})}return(0,_createClass3["default"])(ViewLine,[{key:"normalize",value:function(v){var length=Math.sqrt(v[0]*v[0]+v[1]*v[1]+v[2]*v[2]);return length>1e-5&&(tempArray[0]=v[0]/length,tempArray[1]=v[1]/length,tempArray[2]=v[2]/length),tempArray}},{key:"subtractVectors",value:function(a,b){return tempArray2[0]=a[0]-b[0],tempArray2[1]=a[1]-b[1],tempArray2[2]=a[2]-b[2],tempArray2}},{key:"mouseMove",value:function(x,y){this.currentPos=[x,y],this.tick++,this.z=400*Math.cos(this.tick/20)}},{key:"getControlPoints",value:function(points){for(var pts=[],i=0;i<points.length;i++){var p=points[i];if(0===i)pts.push(p),pts.push(p);else if(i===points.length-1)pts.push(p),pts.push(p);else{if(points[i+1]){var prevCPointDir=this.normalize(this.subtractVectors(p,points[i+1]));pts.push([p[0]+100*prevCPointDir[0],p[1]+100*prevCPointDir[1],p[2]+100*prevCPointDir[2]])}pts.push(p),pts.push(p);var nextCPointDir=this.normalize(this.subtractVectors(p,points[i-1]));pts.push([p[0]+100*nextCPointDir[0],p[1]+100*nextCPointDir[1],p[2]+100*nextCPointDir[2]])}}return pts}},{key:"level",value:function(i){return 0==i?1:i*this.level(i-1)}},{key:"binCoefficientOld",value:function(n,i){return this.level(n)/(this.level(i)*this.level(n-i))}},{key:"binCoefficient",value:function(n,k){if(k>n)throw"exception";return 0==k?1:k>n/2?this.binCoefficient(n,n-k):n*this.binCoefficient(n-1,k-1)/k}},{key:"getBezierPoints",value:function(points,numSeg,avoid){for(var t,tx,ty,tz,bc,pow1,pow2,bezierPoints=[],numPoints=points.length,p=[],i=0;i<numSeg;i++){t=i/numSeg,tx=ty=tz=0;for(var j=0;j<points.length;j++)bc=this.binCoefficient(numPoints-1,j),pow1=Math.pow(1-t,numPoints-j-1),pow2=Math.pow(t,j),tx+=bc*pow1*pow2*points[j][0],ty+=bc*pow1*pow2*points[j][1],tz+=bc*pow1*pow2*points[j][2];p=[tx,ty,tz];var index=Math.floor(points.length*t);index==points.length&&(index=points.length-1),p.distance=points[index].distance,bezierPoints.push(p)}return bezierPoints}},{key:"bezierCurve",value:function(p0,p1,p2,p3,iterations){iterations=iterations||4;for(var pts=[],i=0;i<iterations;i++){var t=1/iterations*i,a=_Matrices2["default"].multiplyVectorsScalar(Math.pow(1-t,3),p0),b=_Matrices2["default"].multiplyVectorsScalar(3*(1-t)*(1-t)*t,p1),c=_Matrices2["default"].multiplyVectorsScalar(3*(1-t)*t*t,p2),d=_Matrices2["default"].multiplyVectorsScalar(t*t*t,p3),vec1=_Matrices2["default"].addVectors(a,b),vec2=_Matrices2["default"].addVectors(vec1,c),vec3=_Matrices2["default"].addVectors(vec2,d);pts.push([vec3[0],vec3[1],vec3[2]])}return pts}},{key:"getPoints",value:function(pts){this.spline.points=pts;for(var points=[],index=void 0,n_sub=12,i=0;i<pts.length*n_sub;i++){index=i/(pts.length*n_sub);var position=this.spline.getPoint(index);points.push(position)}return points}},{key:"render",value:function(){if(this.shader.bind(),this.shader.uniform("aspect","float",window.innerWidth/window.innerHeight),this.currentPos[0]){this.points.push([this.currentPos[0],this.currentPos[1],this.z]),this.currentPos[0]=this.currentPos[1]=null,this.points.length>30&&this.points.shift();this.getPoints(this.points)}GL.draw(this.line)}}]),ViewLine}();exports["default"]=ViewLine,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(24),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(4),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(35),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(86),_inherits3=_interopRequireDefault(_inherits2),_GLHelpers=__webpack_require__(2),_GLHelpers2=_interopRequireDefault(_GLHelpers),_Mesh2=__webpack_require__(102),_Mesh3=_interopRequireDefault(_Mesh2),gl=void 0,Line=function(_Mesh){function Line(program,vertices){var attribPositionName=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"a_position";arguments.length>3&&void 0!==arguments[3]?arguments[3]:"GL.gl.TRIANGLES";(0,_classCallCheck3["default"])(this,Line),gl=_GLHelpers2["default"].gl;var _this=(0,_possibleConstructorReturn3["default"])(this,(Line.__proto__||(0,_getPrototypeOf2["default"])(Line)).call(this,program,_GLHelpers2["default"].gl.TRIANGLES));_this.compareV3=function(a,b){var aa=6*a,ab=6*b;return this.positions[aa]===this.positions[ab]&&this.positions[aa+1]===this.positions[ab+1]&&this.positions[aa+2]===this.positions[ab+2]},_this.copyV3=function(a){var aa=6*a;return[this.positions[aa],this.positions[aa+1],this.positions[aa+2]]},_this.attribPositionName=attribPositionName,_this.indices=[],_this.counters=[];var vert=[[0,0,0],[100,250,0],[50,200,0],[0,200,0],[-100,220,0],[-70,300,0]];return _this.vertices=vertices||vert,_this.line(),_this}return(0,_inherits3["default"])(Line,_Mesh),(0,_createClass3["default"])(Line,[{key:"line",value:function(){var v=this.vertices.slice();this.positions=[];for(var i=0;i<v.length;i++){this.positions.push(v[i][0],v[i][1],v[i][2]),this.positions.push(v[i][0],v[i][1],v[i][2]);var c=i/v.length;this.counters.push([c]),this.counters.push([c])}this.process()}},{key:"process",value:function(avoid){var l=this.positions.length/6;this.previous=[],this.next=[];var v;v=this.compareV3(0,l-1)?this.copyV3(l-2):this.copyV3(0),this.previous.push(v[0],v[1],v[2]),this.previous.push(v[0],v[1],v[2]);for(var j=0;j<l-1;j++)v=this.copyV3(j),this.previous.push(v[0],v[1],v[2]),this.previous.push(v[0],v[1],v[2]);for(var j=1;j<l;j++)v=this.copyV3(j),this.next.push(v[0],v[1],v[2]),this.next.push(v[0],v[1],v[2]);v=this.compareV3(l-1,0)?this.copyV3(1):this.copyV3(l-1),this.next.push(this.positions[this.positions.length-3],this.positions[this.positions.length-2],this.positions[this.positions.length-1]),this.next.push(this.positions[this.positions.length-3],this.positions[this.positions.length-2],this.positions[this.positions.length-1]);for(var j=0;j<l-1;j++){var n=2*j;this.indices.push(n,n+1,n+2),this.indices.push(n+2,n+1,n+3)}for(var pos=[],offsets=[],directions=[],i=0;i<this.positions.length;i+=3){var p=this.positions;pos.push([p[i],p[i+1],p[i+2]]),i%2===0?(directions.push([1]),offsets.push([0,0,0])):(directions.push([-1]),offsets.push([50*Math.random(),50*Math.random(),50*Math.random()]))}this.bufferVertex(pos,!0,this.attribPositionName),this.bufferData(directions,"direction",1,!1);for(var nextPos=[],i=0;i<this.next.length;i+=3){var p=this.next;nextPos.push([p[i],p[i+1],p[i+2]])}this.bufferData(nextPos,"a_next",3,!0);for(var prevPos=[],i=0;i<this.previous.length;i+=3){var p=this.previous;prevPos.push([p[i],p[i+1],p[i+2]])}this.bufferData(prevPos,"a_previous",3,!0),this.bufferIndex(this.indices,!1),this.bufferData(this.counters,"a_counters",1,!0)}},{key:"render",value:function(points){this.vertices=points,this.line()}}]),Line}(_Mesh3["default"]);exports["default"]=Line,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _stringify=__webpack_require__(122),_stringify2=_interopRequireDefault(_stringify),_typeof2=__webpack_require__(36),_typeof3=_interopRequireDefault(_typeof2);!function(){function getABC(n,S,B,E,t){"undefined"==typeof t&&(t=.5);var u=utils.projectionratio(t,n),um=1-u,C={x:u*S.x+um*E.x,y:u*S.y+um*E.y},s=utils.abcratio(t,n),A={x:B.x+(B.x-C.x)/s,y:B.y+(B.y-C.y)/s};return{A:A,B:B,C:C}}var abs=Math.abs,min=Math.min,max=Math.max,acos=Math.acos,sqrt=Math.sqrt,pi=Math.PI,ZERO={x:0,y:0,z:0},utils=__webpack_require__(124),PolyBezier=__webpack_require__(125),Bezier=function(coords){var args=coords&&coords.forEach?coords:[].slice.call(arguments),coordlen=!1;if("object"===(0,_typeof3["default"])(args[0])){coordlen=args.length;var newargs=[];args.forEach(function(point){["x","y","z"].forEach(function(d){"undefined"!=typeof point[d]&&newargs.push(point[d])})}),args=newargs}var higher=!1,len=args.length;if(coordlen){if(coordlen>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");higher=!0}}else if(6!==len&&8!==len&&9!==len&&12!==len&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");var _3d=!higher&&(9===len||12===len)||coords&&coords[0]&&"undefined"!=typeof coords[0].z;this._3d=_3d;for(var points=[],idx=0,step=_3d?3:2;idx<len;idx+=step){var point={x:args[idx],y:args[idx+1]};_3d&&(point.z=args[idx+2]),points.push(point)}this.order=points.length-1,this.points=points;var dims=["x","y"];_3d&&dims.push("z"),this.dims=dims,this.dimlen=dims.length,function(curve){for(var order=curve.order,points=curve.points,a=utils.align(points,{p1:points[0],p2:points[order]}),i=0;i<a.length;i++)if(abs(a[i].y)>1e-4)return void(curve._linear=!1);curve._linear=!0}(this),this._t1=0,this._t2=1,this.update()};Bezier.fromSVG=function(svgString){var list=svgString.match(/[-+]?\d*\.?\d+(?:[eE][-+]?\d+)?/g).map(parseFloat),relative=/[cq]/.test(svgString);return relative?(list=list.map(function(v,i){return i<2?v:v+list[i%2]}),new Bezier(list)):new Bezier(list)},Bezier.quadraticFromPoints=function(p1,p2,p3,t){if("undefined"==typeof t&&(t=.5),0===t)return new Bezier(p2,p2,p3);if(1===t)return new Bezier(p1,p2,p2);var abc=getABC(2,p1,p2,p3,t);return new Bezier(p1,abc.A,p3)},Bezier.cubicFromPoints=function(S,B,E,t,d1){"undefined"==typeof t&&(t=.5);var abc=getABC(3,S,B,E,t);"undefined"==typeof d1&&(d1=utils.dist(B,abc.C));var d2=d1*(1-t)/t,selen=utils.dist(S,E),lx=(E.x-S.x)/selen,ly=(E.y-S.y)/selen,bx1=d1*lx,by1=d1*ly,bx2=d2*lx,by2=d2*ly,e1={x:B.x-bx1,y:B.y-by1},e2={x:B.x+bx2,y:B.y+by2},A=abc.A,v1={x:A.x+(e1.x-A.x)/(1-t),y:A.y+(e1.y-A.y)/(1-t)},v2={x:A.x+(e2.x-A.x)/t,y:A.y+(e2.y-A.y)/t},nc1={x:S.x+(v1.x-S.x)/t,y:S.y+(v1.y-S.y)/t},nc2={x:E.x+(v2.x-E.x)/(1-t),y:E.y+(v2.y-E.y)/(1-t)};return new Bezier(S,nc1,nc2,E)};var getUtils=function(){return utils};Bezier.getUtils=getUtils,Bezier.prototype={getUtils:getUtils,valueOf:function(){return this.toString()},toString:function(){return utils.pointsToString(this.points)},toSVG:function(relative){if(this._3d)return!1;for(var p=this.points,x=p[0].x,y=p[0].y,s=["M",x,y,2===this.order?"Q":"C"],i=1,last=p.length;i<last;i++)s.push(p[i].x),s.push(p[i].y);return s.join(" ")},update:function(){this.dpoints=[];for(var p=this.points,d=p.length,c=d-1;d>1;d--,c--){for(var dpt,list=[],j=0;j<c;j++)dpt={x:c*(p[j+1].x-p[j].x),y:c*(p[j+1].y-p[j].y)},this._3d&&(dpt.z=c*(p[j+1].z-p[j].z)),list.push(dpt);this.dpoints.push(list),p=list}this.computedirection()},computedirection:function(){var points=this.points,angle=utils.angle(points[0],points[this.order],points[1]);this.clockwise=angle>0},length:function(){return utils.length(this.derivative.bind(this))},_lut:[],getLUT:function(steps){if(steps=steps||100,this._lut.length===steps)return this._lut;this._lut=[];for(var t=0;t<=steps;t++)this._lut.push(this.compute(t/steps));return this._lut},on:function(point,error){error=error||5;for(var c,lut=this.getLUT(),hits=[],t=0,i=0;i<lut.length;i++)c=lut[i],utils.dist(c,point)<error&&(hits.push(c),t+=i/lut.length);return!!hits.length&&(t/=hits.length)},project:function(point){var LUT=this.getLUT(),l=LUT.length-1,closest=utils.closest(LUT,point),mdist=closest.mdist,mpos=closest.mpos;if(0===mpos||mpos===l){var t=mpos/l,pt=this.compute(t);return pt.t=t,pt.d=mdist,pt}var ft,t,p,d,t1=(mpos-1)/l,t2=(mpos+1)/l,step=.1/l;for(mdist+=1,t=t1,ft=t;t<t2+step;t+=step)p=this.compute(t),d=utils.dist(point,p),d<mdist&&(mdist=d,ft=t);return p=this.compute(ft),p.t=ft,p.d=mdist,p},get:function(t){return this.compute(t)},point:function(idx){return this.points[idx]},compute:function(t){if(0===t)return this.points[0];if(1===t)return this.points[this.order];var p=this.points,mt=1-t;if(1===this.order)return ret={x:mt*p[0].x+t*p[1].x,y:mt*p[0].y+t*p[1].y},this._3d&&(ret.z=mt*p[0].z+t*p[1].z),ret;if(this.order<4){var a,b,c,mt2=mt*mt,t2=t*t,d=0;2===this.order?(p=[p[0],p[1],p[2],ZERO],a=mt2,b=mt*t*2,c=t2):3===this.order&&(a=mt2*mt,b=mt2*t*3,c=mt*t2*3,d=t*t2);var ret={x:a*p[0].x+b*p[1].x+c*p[2].x+d*p[3].x,y:a*p[0].y+b*p[1].y+c*p[2].y+d*p[3].y};return this._3d&&(ret.z=a*p[0].z+b*p[1].z+c*p[2].z+d*p[3].z),ret}for(var dCpts=JSON.parse((0,_stringify2["default"])(this.points));dCpts.length>1;){for(var i=0;i<dCpts.length-1;i++)dCpts[i]={x:dCpts[i].x+(dCpts[i+1].x-dCpts[i].x)*t,y:dCpts[i].y+(dCpts[i+1].y-dCpts[i].y)*t},"undefined"!=typeof dCpts[i].z&&(dCpts[i]=dCpts[i].z+(dCpts[i+1].z-dCpts[i].z)*t);dCpts.splice(dCpts.length-1,1)}return dCpts[0]},raise:function(){for(var i,pi,pim,p=this.points,np=[p[0]],k=p.length,i=1;i<k;i++)pi=p[i],pim=p[i-1],np[i]={x:(k-i)/k*pi.x+i/k*pim.x,y:(k-i)/k*pi.y+i/k*pim.y};return np[k]=p[k-1],new Bezier(np)},derivative:function(t){var a,b,mt=1-t,c=0,p=this.dpoints[0];2===this.order&&(p=[p[0],p[1],ZERO],a=mt,b=t),3===this.order&&(a=mt*mt,b=mt*t*2,c=t*t);var ret={x:a*p[0].x+b*p[1].x+c*p[2].x,y:a*p[0].y+b*p[1].y+c*p[2].y};return this._3d&&(ret.z=a*p[0].z+b*p[1].z+c*p[2].z),ret},inflections:function(){return utils.inflections(this.points)},normal:function(t){return this._3d?this.__normal3(t):this.__normal2(t)},__normal2:function(t){var d=this.derivative(t),q=sqrt(d.x*d.x+d.y*d.y);return{x:-d.y/q,y:d.x/q}},__normal3:function(t){var r1=this.derivative(t),r2=this.derivative(t+.01),q1=sqrt(r1.x*r1.x+r1.y*r1.y+r1.z*r1.z),q2=sqrt(r2.x*r2.x+r2.y*r2.y+r2.z*r2.z);r1.x/=q1,r1.y/=q1,r1.z/=q1,r2.x/=q2,r2.y/=q2,r2.z/=q2;var c={x:r2.y*r1.z-r2.z*r1.y,y:r2.z*r1.x-r2.x*r1.z,z:r2.x*r1.y-r2.y*r1.x},m=sqrt(c.x*c.x+c.y*c.y+c.z*c.z);c.x/=m,c.y/=m,c.z/=m;var R=[c.x*c.x,c.x*c.y-c.z,c.x*c.z+c.y,c.x*c.y+c.z,c.y*c.y,c.y*c.z-c.x,c.x*c.z-c.y,c.y*c.z+c.x,c.z*c.z],n={x:R[0]*r1.x+R[1]*r1.y+R[2]*r1.z,y:R[3]*r1.x+R[4]*r1.y+R[5]*r1.z,z:R[6]*r1.x+R[7]*r1.y+R[8]*r1.z};return n},hull:function(t){var pt,p=this.points,_p=[],q=[],idx=0,i=0,l=0;for(q[idx++]=p[0],q[idx++]=p[1],q[idx++]=p[2],3===this.order&&(q[idx++]=p[3]);p.length>1;){for(_p=[],i=0,l=p.length-1;i<l;i++)pt=utils.lerp(t,p[i],p[i+1]),q[idx++]=pt,_p.push(pt);p=_p}return q},split:function(t1,t2){if(0===t1&&t2)return this.split(t2).left;if(1===t2)return this.split(t1).right;var q=this.hull(t1),result={left:new Bezier(2===this.order?[q[0],q[3],q[5]]:[q[0],q[4],q[7],q[9]]),right:new Bezier(2===this.order?[q[5],q[4],q[2]]:[q[9],q[8],q[6],q[3]]),span:q};if(result.left._t1=utils.map(0,0,1,this._t1,this._t2),result.left._t2=utils.map(t1,0,1,this._t1,this._t2),result.right._t1=utils.map(t1,0,1,this._t1,this._t2),result.right._t2=utils.map(1,0,1,this._t1,this._t2),!t2)return result;t2=utils.map(t2,t1,1,0,1);var subsplit=result.right.split(t2);return subsplit.left},extrema:function(){var p,mfn,dims=this.dims,result={},roots=[];return dims.forEach(function(dim){mfn=function(v){return v[dim]},p=this.dpoints[0].map(mfn),result[dim]=utils.droots(p),3===this.order&&(p=this.dpoints[1].map(mfn),result[dim]=result[dim].concat(utils.droots(p))),result[dim]=result[dim].filter(function(t){return t>=0&&t<=1}),roots=roots.concat(result[dim].sort())}.bind(this)),roots=roots.sort().filter(function(v,idx){return roots.indexOf(v)===idx}),result.values=roots,result},bbox:function(){var extrema=this.extrema(),result={};return this.dims.forEach(function(d){result[d]=utils.getminmax(this,d,extrema[d])}.bind(this)),result},overlaps:function(curve){var lbbox=this.bbox(),tbbox=curve.bbox();return utils.bboxoverlap(lbbox,tbbox)},offset:function(t,d){if("undefined"!=typeof d){var c=this.get(t),n=this.normal(t),ret={c:c,n:n,x:c.x+n.x*d,y:c.y+n.y*d};return this._3d&&(ret.z=c.z+n.z*d),ret}if(this._linear){var nv=this.normal(0),coords=this.points.map(function(p){var ret={x:p.x+t*nv.x,y:p.y+t*nv.y};return p.z&&n.z&&(ret.z=p.z+t*nv.z),ret});return[new Bezier(coords)]}var reduced=this.reduce();return reduced.map(function(s){return s.scale(t)})},simple:function(){if(3===this.order){var a1=utils.angle(this.points[0],this.points[3],this.points[1]),a2=utils.angle(this.points[0],this.points[3],this.points[2]);if(a1>0&&a2<0||a1<0&&a2>0)return!1}var n1=this.normal(0),n2=this.normal(1),s=n1.x*n2.x+n1.y*n2.y;this._3d&&(s+=n1.z*n2.z);var angle=abs(acos(s));return angle<pi/3},reduce:function(){var i,segment,t1=0,t2=0,step=.01,pass1=[],pass2=[],extrema=this.extrema().values;for(extrema.indexOf(0)===-1&&(extrema=[0].concat(extrema)),extrema.indexOf(1)===-1&&extrema.push(1),t1=extrema[0],i=1;i<extrema.length;i++)t2=extrema[i],segment=this.split(t1,t2),segment._t1=t1,segment._t2=t2,pass1.push(segment),t1=t2;return pass1.forEach(function(p1){for(t1=0,t2=0;t2<=1;)for(t2=t1+step;t2<=1+step;t2+=step)if(segment=p1.split(t1,t2),!segment.simple()){if(t2-=step,abs(t1-t2)<step)return[];segment=p1.split(t1,t2),segment._t1=utils.map(t1,0,1,p1._t1,p1._t2),segment._t2=utils.map(t2,0,1,p1._t1,p1._t2),pass2.push(segment),t1=t2;break}t1<1&&(segment=p1.split(t1,1),segment._t1=utils.map(t1,0,1,p1._t1,p1._t2),segment._t2=p1._t2,pass2.push(segment))}),pass2},scale:function(d){var order=this.order,distanceFn=!1;if("function"==typeof d&&(distanceFn=d),distanceFn&&2===order)return this.raise().scale(distanceFn);var clockwise=this.clockwise,r1=distanceFn?distanceFn(0):d,r2=distanceFn?distanceFn(1):d,v=[this.offset(0,10),this.offset(1,10)],o=utils.lli4(v[0],v[0].c,v[1],v[1].c);if(!o)throw new Error("cannot scale this curve. Try reducing it first.");var points=this.points,np=[];return[0,1].forEach(function(t){var p=np[t*order]=utils.copy(points[t*order]);p.x+=(t?r2:r1)*v[t].n.x,p.y+=(t?r2:r1)*v[t].n.y}.bind(this)),distanceFn?([0,1].forEach(function(t){if(2!==this.order||!t){var p=points[t+1],ov={x:p.x-o.x,y:p.y-o.y},rc=distanceFn?distanceFn((t+1)/order):d;distanceFn&&!clockwise&&(rc=-rc);var m=sqrt(ov.x*ov.x+ov.y*ov.y);ov.x/=m,ov.y/=m,np[t+1]={x:p.x+rc*ov.x,y:p.y+rc*ov.y}}}.bind(this)),new Bezier(np)):([0,1].forEach(function(t){if(2!==this.order||!t){var p=np[t*order],d=this.derivative(t),p2={x:p.x+d.x,y:p.y+d.y};np[t+1]=utils.lli4(p,p2,o,points[t+1])}}.bind(this)),new Bezier(np))},outline:function(d1,d2,d3,d4){function linearDistanceFunction(s,e,tlen,alen,slen){return function(v){var f1=alen/tlen,f2=(alen+slen)/tlen,d=e-s;return utils.map(v,0,1,s+f1*d,s+f2*d)}}d2="undefined"==typeof d2?d1:d2;var p,reduced=this.reduce(),len=reduced.length,fcurves=[],bcurves=[],alen=0,tlen=this.length(),graduated="undefined"!=typeof d3&&"undefined"!=typeof d4;reduced.forEach(function(segment){slen=segment.length(),graduated?(fcurves.push(segment.scale(linearDistanceFunction(d1,d3,tlen,alen,slen))),bcurves.push(segment.scale(linearDistanceFunction(-d2,-d4,tlen,alen,slen)))):(fcurves.push(segment.scale(d1)),bcurves.push(segment.scale(-d2))),alen+=slen}),bcurves=bcurves.map(function(s){return p=s.points,p[3]?s.points=[p[3],p[2],p[1],p[0]]:s.points=[p[2],p[1],p[0]],s}).reverse();var fs=fcurves[0].points[0],fe=fcurves[len-1].points[fcurves[len-1].points.length-1],bs=bcurves[len-1].points[bcurves[len-1].points.length-1],be=bcurves[0].points[0],ls=utils.makeline(bs,fs),le=utils.makeline(fe,be),segments=[ls].concat(fcurves).concat([le]).concat(bcurves),slen=segments.length;return new PolyBezier(segments)},outlineshapes:function(d1,d2,curveIntersectionThreshold){d2=d2||d1;for(var outline=this.outline(d1,d2).curves,shapes=[],i=1,len=outline.length;i<len/2;i++){var shape=utils.makeshape(outline[i],outline[len-i],curveIntersectionThreshold);shape.startcap.virtual=i>1,shape.endcap.virtual=i<len/2-1,shapes.push(shape)}return shapes},intersects:function(curve,curveIntersectionThreshold){return curve?curve.p1&&curve.p2?this.lineIntersects(curve):(curve instanceof Bezier&&(curve=curve.reduce()),this.curveintersects(this.reduce(),curve,curveIntersectionThreshold)):this.selfintersects(curveIntersectionThreshold)},lineIntersects:function(line){var mx=min(line.p1.x,line.p2.x),my=min(line.p1.y,line.p2.y),MX=max(line.p1.x,line.p2.x),MY=max(line.p1.y,line.p2.y),self=this;return utils.roots(this.points,line).filter(function(t){var p=self.get(t);return utils.between(p.x,mx,MX)&&utils.between(p.y,my,MY)})},selfintersects:function(curveIntersectionThreshold){var i,result,left,right,reduced=this.reduce(),len=reduced.length-2,results=[];for(i=0;i<len;i++)left=reduced.slice(i,i+1),right=reduced.slice(i+2),result=this.curveintersects(left,right,curveIntersectionThreshold),results=results.concat(result);return results},curveintersects:function(c1,c2,curveIntersectionThreshold){var pairs=[];c1.forEach(function(l){c2.forEach(function(r){l.overlaps(r)&&pairs.push({left:l,right:r})})});var intersections=[];return pairs.forEach(function(pair){var result=utils.pairiteration(pair.left,pair.right,curveIntersectionThreshold);result.length>0&&(intersections=intersections.concat(result))}),intersections},arcs:function(errorThreshold){errorThreshold=errorThreshold||.5;var circles=[];return this._iterate(errorThreshold,circles)},_error:function(pc,np1,s,e){var q=(e-s)/4,c1=this.get(s+q),c2=this.get(e-q),ref=utils.dist(pc,np1),d1=utils.dist(pc,c1),d2=utils.dist(pc,c2);return abs(d1-ref)+abs(d2-ref)},_iterate:function(errorThreshold,circles){var safety,s=0,e=1;do{safety=0,e=1;var np2,np3,arc,prev_arc,done,np1=this.get(s),curr_good=!1,prev_good=!1,m=e,prev_e=1,step=0;do{prev_good=curr_good,prev_arc=arc,m=(s+e)/2,step++,np2=this.get(m),np3=this.get(e),arc=utils.getccenter(np1,np2,np3),arc.interval={start:s,end:e};var error=this._error(arc,np1,s,e);if(curr_good=error<=errorThreshold,done=prev_good&&!curr_good,done||(prev_e=e),curr_good){if(e>=1){prev_e=1,prev_arc=arc;break}e+=(e-s)/2}else e=m}while(!done&&safety++<100);if(safety>=100)break;prev_arc=prev_arc?prev_arc:arc,circles.push(prev_arc),s=prev_e}while(e<1);return circles}},module.exports=Bezier}()},function(module,exports,__webpack_require__){module.exports={"default":__webpack_require__(123),__esModule:!0}},function(module,exports,__webpack_require__){var core=__webpack_require__(10),$JSON=core.JSON||(core.JSON={stringify:JSON.stringify});module.exports=function(it){return $JSON.stringify.apply($JSON,arguments)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _stringify=__webpack_require__(122),_stringify2=_interopRequireDefault(_stringify);!function(){var abs=Math.abs,cos=Math.cos,sin=Math.sin,acos=Math.acos,atan2=Math.atan2,sqrt=Math.sqrt,pow=Math.pow,crt=function(v){return v<0?-pow(-v,1/3):pow(v,1/3)},pi=Math.PI,tau=2*pi,quart=pi/2,epsilon=1e-6,utils={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(t,derivativeFn){var d=derivativeFn(t),l=d.x*d.x+d.y*d.y;return"undefined"!=typeof d.z&&(l+=d.z*d.z),sqrt(l)},between:function(v,m,M){return m<=v&&v<=M||utils.approximately(v,m)||utils.approximately(v,M)},approximately:function(a,b,precision){return abs(a-b)<=(precision||epsilon)},length:function(derivativeFn){var i,t,z=.5,sum=0,len=utils.Tvalues.length;for(i=0;i<len;i++)t=z*utils.Tvalues[i]+z,sum+=utils.Cvalues[i]*utils.arcfn(t,derivativeFn);return z*sum},map:function(v,ds,de,ts,te){var d1=de-ds,d2=te-ts,v2=v-ds,r=v2/d1;return ts+d2*r},lerp:function(r,v1,v2){var ret={x:v1.x+r*(v2.x-v1.x),y:v1.y+r*(v2.y-v1.y)};return v1.z&&v2.z&&(ret.z=v1.z+r*(v2.z-v1.z)),ret},pointToString:function(p){var s=p.x+"/"+p.y;return"undefined"!=typeof p.z&&(s+="/"+p.z),s},pointsToString:function(points){return"["+points.map(utils.pointToString).join(", ")+"]"},copy:function(obj){return JSON.parse((0,_stringify2["default"])(obj))},angle:function(o,v1,v2){var dot,dx1=v1.x-o.x,dy1=v1.y-o.y,dx2=v2.x-o.x,dy2=v2.y-o.y,cross=dx1*dy2-dy1*dx2,m1=sqrt(dx1*dx1+dy1*dy1),m2=sqrt(dx2*dx2+dy2*dy2);return dx1/=m1,dy1/=m1,dx2/=m2,dy2/=m2,dot=dx1*dx2+dy1*dy2,atan2(cross,dot)},round:function(v,d){var s=""+v,pos=s.indexOf(".");return parseFloat(s.substring(0,pos+1+d))},dist:function(p1,p2){var dx=p1.x-p2.x,dy=p1.y-p2.y;return sqrt(dx*dx+dy*dy)},closest:function(LUT,point){var mpos,d,mdist=pow(2,63);return LUT.forEach(function(p,idx){d=utils.dist(point,p),d<mdist&&(mdist=d,mpos=idx)}),{mdist:mdist,mpos:mpos}},abcratio:function(t,n){if(2!==n&&3!==n)return!1;if("undefined"==typeof t)t=.5;else if(0===t||1===t)return t;var bottom=pow(t,n)+pow(1-t,n),top=bottom-1;return abs(top/bottom)},projectionratio:function(t,n){if(2!==n&&3!==n)return!1;if("undefined"==typeof t)t=.5;else if(0===t||1===t)return t;var top=pow(1-t,n),bottom=pow(t,n)+top;return top/bottom},lli8:function(x1,y1,x2,y2,x3,y3,x4,y4){var nx=(x1*y2-y1*x2)*(x3-x4)-(x1-x2)*(x3*y4-y3*x4),ny=(x1*y2-y1*x2)*(y3-y4)-(y1-y2)*(x3*y4-y3*x4),d=(x1-x2)*(y3-y4)-(y1-y2)*(x3-x4);return 0!=d&&{x:nx/d,y:ny/d}},lli4:function(p1,p2,p3,p4){var x1=p1.x,y1=p1.y,x2=p2.x,y2=p2.y,x3=p3.x,y3=p3.y,x4=p4.x,y4=p4.y;return utils.lli8(x1,y1,x2,y2,x3,y3,x4,y4)},lli:function(v1,v2){return utils.lli4(v1,v1.c,v2,v2.c)},makeline:function(p1,p2){var Bezier=__webpack_require__(121),x1=p1.x,y1=p1.y,x2=p2.x,y2=p2.y,dx=(x2-x1)/3,dy=(y2-y1)/3;return new Bezier(x1,y1,x1+dx,y1+dy,x1+2*dx,y1+2*dy,x2,y2)},findbbox:function(sections){var mx=99999999,my=mx,MX=-mx,MY=MX;return sections.forEach(function(s){var bbox=s.bbox();mx>bbox.x.min&&(mx=bbox.x.min),my>bbox.y.min&&(my=bbox.y.min),MX<bbox.x.max&&(MX=bbox.x.max),MY<bbox.y.max&&(MY=bbox.y.max)}),{x:{min:mx,mid:(mx+MX)/2,max:MX,size:MX-mx},y:{min:my,mid:(my+MY)/2,max:MY,size:MY-my}}},shapeintersections:function(s1,bbox1,s2,bbox2,curveIntersectionThreshold){if(!utils.bboxoverlap(bbox1,bbox2))return[];var intersections=[],a1=[s1.startcap,s1.forward,s1.back,s1.endcap],a2=[s2.startcap,s2.forward,s2.back,s2.endcap];return a1.forEach(function(l1){l1.virtual||a2.forEach(function(l2){if(!l2.virtual){var iss=l1.intersects(l2,curveIntersectionThreshold);iss.length>0&&(iss.c1=l1,iss.c2=l2,iss.s1=s1,iss.s2=s2,intersections.push(iss))}})}),intersections},makeshape:function(forward,back,curveIntersectionThreshold){var bpl=back.points.length,fpl=forward.points.length,start=utils.makeline(back.points[bpl-1],forward.points[0]),end=utils.makeline(forward.points[fpl-1],back.points[0]),shape={startcap:start,forward:forward,back:back,endcap:end,bbox:utils.findbbox([start,forward,back,end])},self=utils;return shape.intersections=function(s2){return self.shapeintersections(shape,shape.bbox,s2,s2.bbox,curveIntersectionThreshold)},shape},getminmax:function(curve,d,list){
if(!list)return{min:0,max:0};var t,c,min=0x10000000000000000,max=-min;list.indexOf(0)===-1&&(list=[0].concat(list)),list.indexOf(1)===-1&&list.push(1);for(var i=0,len=list.length;i<len;i++)t=list[i],c=curve.get(t),c[d]<min&&(min=c[d]),c[d]>max&&(max=c[d]);return{min:min,mid:(min+max)/2,max:max,size:max-min}},align:function(points,line){var tx=line.p1.x,ty=line.p1.y,a=-atan2(line.p2.y-ty,line.p2.x-tx),d=function(v){return{x:(v.x-tx)*cos(a)-(v.y-ty)*sin(a),y:(v.x-tx)*sin(a)+(v.y-ty)*cos(a)}};return points.map(d)},roots:function(points,line){line=line||{p1:{x:0,y:0},p2:{x:1,y:0}};var order=points.length-1,p=utils.align(points,line),reduce=function(t){return 0<=t&&t<=1};if(2===order){var a=p[0].y,b=p[1].y,c=p[2].y,d=a-2*b+c;if(0!==d){var m1=-sqrt(b*b-a*c),m2=-a+b,v1=-(m1+m2)/d,v2=-(-m1+m2)/d;return[v1,v2].filter(reduce)}return b!==c&&0===d?[(2*b-c)/2*(b-c)].filter(reduce):[]}var u1,v1,x1,x2,x3,pa=p[0].y,pb=p[1].y,pc=p[2].y,pd=p[3].y,d=-pa+3*pb-3*pc+pd,a=(3*pa-6*pb+3*pc)/d,b=(-3*pa+3*pb)/d,c=pa/d,p=(3*b-a*a)/3,p3=p/3,q=(2*a*a*a-9*a*b+27*c)/27,q2=q/2,discriminant=q2*q2+p3*p3*p3;if(discriminant<0){var mp3=-p/3,mp33=mp3*mp3*mp3,r=sqrt(mp33),t=-q/(2*r),cosphi=t<-1?-1:t>1?1:t,phi=acos(cosphi),crtr=crt(r),t1=2*crtr;return x1=t1*cos(phi/3)-a/3,x2=t1*cos((phi+tau)/3)-a/3,x3=t1*cos((phi+2*tau)/3)-a/3,[x1,x2,x3].filter(reduce)}if(0===discriminant)return u1=q2<0?crt(-q2):-crt(q2),x1=2*u1-a/3,x2=-u1-a/3,[x1,x2].filter(reduce);var sd=sqrt(discriminant);return u1=crt(-q2+sd),v1=crt(q2+sd),[u1-v1-a/3].filter(reduce)},droots:function(p){if(3===p.length){var a=p[0],b=p[1],c=p[2],d=a-2*b+c;if(0!==d){var m1=-sqrt(b*b-a*c),m2=-a+b,v1=-(m1+m2)/d,v2=-(-m1+m2)/d;return[v1,v2]}return b!==c&&0===d?[(2*b-c)/(2*(b-c))]:[]}if(2===p.length){var a=p[0],b=p[1];return a!==b?[a/(a-b)]:[]}},inflections:function(points){if(points.length<4)return[];var p=utils.align(points,{p1:points[0],p2:points.slice(-1)[0]}),a=p[2].x*p[1].y,b=p[3].x*p[1].y,c=p[1].x*p[2].y,d=p[3].x*p[2].y,v1=18*(-3*a+2*b+3*c-d),v2=18*(3*a-b-3*c),v3=18*(c-a);if(utils.approximately(v1,0))return[];var trm=v2*v2-4*v1*v3,sq=Math.sqrt(trm),d=2*v1;return utils.approximately(d,0)?[]:[(sq-v2)/d,-(v2+sq)/d].filter(function(r){return 0<=r&&r<=1})},bboxoverlap:function(b1,b2){var i,dim,l,t,d,dims=["x","y"],len=dims.length;for(i=0;i<len;i++)if(dim=dims[i],l=b1[dim].mid,t=b2[dim].mid,d=(b1[dim].size+b2[dim].size)/2,abs(l-t)>=d)return!1;return!0},expandbox:function(bbox,_bbox){_bbox.x.min<bbox.x.min&&(bbox.x.min=_bbox.x.min),_bbox.y.min<bbox.y.min&&(bbox.y.min=_bbox.y.min),_bbox.z&&_bbox.z.min<bbox.z.min&&(bbox.z.min=_bbox.z.min),_bbox.x.max>bbox.x.max&&(bbox.x.max=_bbox.x.max),_bbox.y.max>bbox.y.max&&(bbox.y.max=_bbox.y.max),_bbox.z&&_bbox.z.max>bbox.z.max&&(bbox.z.max=_bbox.z.max),bbox.x.mid=(bbox.x.min+bbox.x.max)/2,bbox.y.mid=(bbox.y.min+bbox.y.max)/2,bbox.z&&(bbox.z.mid=(bbox.z.min+bbox.z.max)/2),bbox.x.size=bbox.x.max-bbox.x.min,bbox.y.size=bbox.y.max-bbox.y.min,bbox.z&&(bbox.z.size=bbox.z.max-bbox.z.min)},pairiteration:function(c1,c2,curveIntersectionThreshold){var c1b=c1.bbox(),c2b=c2.bbox(),r=1e5,threshold=curveIntersectionThreshold||.5;if(c1b.x.size+c1b.y.size<threshold&&c2b.x.size+c2b.y.size<threshold)return[(r*(c1._t1+c1._t2)/2|0)/r+"/"+(r*(c2._t1+c2._t2)/2|0)/r];var cc1=c1.split(.5),cc2=c2.split(.5),pairs=[{left:cc1.left,right:cc2.left},{left:cc1.left,right:cc2.right},{left:cc1.right,right:cc2.right},{left:cc1.right,right:cc2.left}];pairs=pairs.filter(function(pair){return utils.bboxoverlap(pair.left.bbox(),pair.right.bbox())});var results=[];return 0===pairs.length?results:(pairs.forEach(function(pair){results=results.concat(utils.pairiteration(pair.left,pair.right,threshold))}),results=results.filter(function(v,i){return results.indexOf(v)===i}))},getccenter:function(p1,p2,p3){var _,dx1=p2.x-p1.x,dy1=p2.y-p1.y,dx2=p3.x-p2.x,dy2=p3.y-p2.y,dx1p=dx1*cos(quart)-dy1*sin(quart),dy1p=dx1*sin(quart)+dy1*cos(quart),dx2p=dx2*cos(quart)-dy2*sin(quart),dy2p=dx2*sin(quart)+dy2*cos(quart),mx1=(p1.x+p2.x)/2,my1=(p1.y+p2.y)/2,mx2=(p2.x+p3.x)/2,my2=(p2.y+p3.y)/2,mx1n=mx1+dx1p,my1n=my1+dy1p,mx2n=mx2+dx2p,my2n=my2+dy2p,arc=utils.lli8(mx1,my1,mx1n,my1n,mx2,my2,mx2n,my2n),r=utils.dist(arc,p1),s=atan2(p1.y-arc.y,p1.x-arc.x),m=atan2(p2.y-arc.y,p2.x-arc.x),e=atan2(p3.y-arc.y,p3.x-arc.x);return s<e?((s>m||m>e)&&(s+=tau),s>e&&(_=e,e=s,s=_)):e<m&&m<s?(_=e,e=s,s=_):e+=tau,arc.s=s,arc.e=e,arc.r=r,arc}};module.exports=utils}()},function(module,exports,__webpack_require__){"use strict";!function(){var utils=__webpack_require__(124),PolyBezier=function(curves){this.curves=[],this._3d=!1,curves&&(this.curves=curves,this._3d=this.curves[0]._3d)};PolyBezier.prototype={valueOf:function(){return this.toString()},toString:function(){return utils.pointsToString(this.points)},addCurve:function(curve){this.curves.push(curve),this._3d=this._3d||curve._3d},length:function(){return this.curves.map(function(v){return v.length()}).reduce(function(a,b){return a+b})},curve:function(idx){return this.curves[idx]},bbox:function bbox(){for(var c=this.curves,bbox=c[0].bbox(),i=1;i<c.length;i++)utils.expandbox(bbox,c[i].bbox());return bbox},offset:function offset(d){var offset=[];return this.curves.forEach(function(v){offset=offset.concat(v.offset(d))}),new PolyBezier(offset)}},module.exports=PolyBezier}()},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(4),_createClass3=_interopRequireDefault(_createClass2),CatmullRomSpline=function(){function CatmullRomSpline(p0,p1,p2,p3){arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;(0,_classCallCheck3["default"])(this,CatmullRomSpline)}return(0,_createClass3["default"])(CatmullRomSpline,[{key:"process",value:function(p0,p1,p2,p3){for(var nPoints=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,pts=[],t0=0,t1=this.getT(t0,p0,p1),t2=this.getT(t1,p1,p2),t3=this.getT(t2,p2,p3),t=t1;t<t2;t+=(t2-t1)/nPoints){var A1=[(t1-t)/(t1-t0)*p0[0]+(t-t0)/(t1-t0)*p1[0],(t1-t)/(t1-t0)*p0[1]+(t-t0)/(t1-t0)*p1[1],(t1-t)/(t1-t0)*p0[2]+(t-t0)/(t1-t0)*p1[2]],A2=[(t2-t)/(t2-t1)*p1[0]+(t-t1)/(t2-t1)*p2[0],(t2-t)/(t2-t1)*p1[1]+(t-t1)/(t2-t1)*p2[1],(t2-t)/(t2-t1)*p1[2]+(t-t1)/(t2-t1)*p2[2]],A3=[(t3-t)/(t3-t2)*p2[0]+(t-t2)/(t3-t2)*p3[0],(t3-t)/(t3-t2)*p2[1]+(t-t2)/(t3-t2)*p3[1],(t3-t)/(t3-t2)*p2[2]+(t-t2)/(t3-t2)*p3[2]],B1=[(t2-t)/(t2-t0)*A1[0]+(t-t0)/(t2-t0)*A2[0],(t2-t)/(t2-t0)*A1[1]+(t-t0)/(t2-t0)*A2[1],(t2-t)/(t2-t0)*A1[2]+(t-t0)/(t2-t0)*A2[2]],B2=[(t3-t)/(t3-t1)*A2[0]+(t-t0)/(t3-t1)*A3[0],(t3-t)/(t3-t1)*A2[1]+(t-t0)/(t3-t1)*A3[1],(t3-t)/(t3-t1)*A2[2]+(t-t0)/(t3-t1)*A3[2]],C=[(t2-t)/(t2-t1)*B1[0]+(t-t1)/(t2-t1)*B2[0],(t2-t)/(t2-t1)*B1[1]+(t-t1)/(t2-t1)*B2[1],(t2-t)/(t2-t1)*B1[2]+(t-t1)/(t2-t1)*B2[2]];pts.push(C)}return pts}},{key:"getT",value:function(t,p0,p1){var a=Math.pow(p1[0]-p0[0],10)+Math.pow(p1[1]-p0[1],10)+Math.pow(p1[2]-p0[2],10),b=Math.pow(a,.5),c=Math.pow(b,.5);return c+t}}]),CatmullRomSpline}();exports["default"]=CatmullRomSpline,CatmullRomSpline.instance=new CatmullRomSpline,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck2=__webpack_require__(3),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(4),_createClass3=_interopRequireDefault(_createClass2),_Matrices=__webpack_require__(95),Spline=(_interopRequireDefault(_Matrices),function(){function Spline(points){(0,_classCallCheck3["default"])(this,Spline),this.points=points}return(0,_createClass3["default"])(Spline,[{key:"getPoint",value:function(k){var pa,pb,pc,pd,w2,w3,c=[],v3=[],point=(this.points.length-1)*k,intPoint=Math.floor(point),weight=point-intPoint;return c[0]=0===intPoint?intPoint:intPoint-1,c[1]=intPoint,c[2]=intPoint>this.points.length-2?intPoint:intPoint+1,c[3]=intPoint>this.points.length-3?intPoint:intPoint+2,pa=this.points[c[0]],pb=this.points[c[1]],pc=this.points[c[2]],pd=this.points[c[3]],w2=weight*weight,w3=weight*w2,v3[0]=this.interpolate(pa[0],pb[0],pc[0],pd[0],weight,w2,w3),v3[1]=this.interpolate(pa[1],pb[1],pc[1],pd[1],weight,w2,w3),v3[2]=this.interpolate(pa[2],pb[2],pc[2],pd[2],weight,w2,w3),v3}},{key:"interpolate",value:function(p0,p1,p2,p3,t,t2,t3){var v0=.5*(p2-p0),v1=.5*(p3-p1);return(2*(p1-p2)+v0+v1)*t3+(-3*(p1-p2)-2*v0-v1)*t2+v0*t+p1}}]),Spline}());exports["default"]=Spline,module.exports=exports["default"]},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var RDPAlgorithm=function(){};RDPAlgorithm.prototype.distance=function(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2)+Math.pow(a.z-b.z,2))},RDPAlgorithm.prototype.point_line_distance=function(point,start,end){return start==end?this.distance(point,start):(n=Math.abs((end.x-start.x)*(start.y-point.y)-(start.x-point.x)*(end.y-start.y)),d=Math.sqrt(Math.pow(end.x-start.x,2)+Math.pow(end.y-start.y,2)),n/d)},RDPAlgorithm.prototype.simplify=function(points,epsilon){for(var points=this.rdp(points,epsilon),np=[points[0]],i=1;i<points.length;i++)points[i].x!==points[i-1].x&&points[i].y!==points[i-1].y&&np.push(points[i]);return np},RDPAlgorithm.prototype.rdp=function(points,epsilon){epsilon=epsilon||40;for(var d,returnPoints=[],dmax=0,index=0,end=points.length-1,i=1;i<end;i++)d=this.point_line_distance(points[i],points[0],points[end]),d>dmax&&(index=i,dmax=d);return dmax>epsilon?(returnPoints=returnPoints.concat(this.rdp(points.slice(0,index+1),epsilon)),returnPoints=returnPoints.concat(this.rdp(points.slice(index,end+1),epsilon))):returnPoints=[points[0],points[end]],returnPoints},RDPAlgorithm.instance=new RDPAlgorithm,module.exports=RDPAlgorithm}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(module,exports){module.exports="#define GLSLIFY 1\n// attribute vec4 a_position;\n// attribute vec4 a_previous;\n// attribute vec4 a_next;\n// attribute float a_width;\n// attribute float a_side;\n// attribute float a_counters;\n//\n// uniform float aspect;\n// uniform mat4 u_world;\n// uniform mat4 u_worldViewProjection;\n// // uniform mat4 u_worldInverseTranspose;\n// varying vec3 vPosition;\n// varying float vCounters;\n// varying vec3 vColor;\n//\n// vec2 fix( vec4 i, float aspect ) {\n//     vec2 res = i.xy / i.w;\n//     res.x *= aspect;\n//\n//     vCounters = a_counters;\n//     return res;\n// }\n//\n// void main() {\n//   // float aspect = 1.0;\n//\n//   float lineWidth = 10.0;\n//   vec3 color = vec3(0.0);\n//   float opacity = 1.0;\n//   float near = 1.0;\n//   float far = 1.0;\n//   float sizeAttenuation = 1.0;\n//\n//   mat4 m = u_worldViewProjection;\n//\n//   vec3 position = a_position.xyz;\n//\n//   vec4 finalPosition = m * vec4(position, 1.0);\n//   vec4 prevPos = m * a_previous;\n//   vec4 nextPos = m * a_next;\n//\n//   vec2 currentP = fix( finalPosition, aspect );\n//   vec2 prevP = fix( prevPos, aspect );\n//   vec2 nextP = fix( nextPos, aspect );\n//   float pixelWidth = finalPosition.w * 1.0;//pixelWidthRatio;\n//\n//\n//\n//   float w = 1.8 * pixelWidth * lineWidth * a_width;\n//   if( sizeAttenuation == 1. ) {\n//       w = 1.8 * lineWidth * a_width;\n//   }\n//\n//   vec2 dir;\n//   if( nextP == currentP ) {\n//     dir = normalize( currentP - prevP );\n//     vColor = vec3(1.0, 0.0, 0.0);\n//   }\n//   else if( prevP == currentP ) {\n//     dir = normalize( nextP - currentP );\n//     vColor = vec3(1.0, 1.0, 0.0);\n//   }\n//   else {\n//       vec2 dir1 = normalize( currentP - prevP );\n//       vec2 dir2 = normalize( nextP - currentP );\n//       dir = normalize( dir1 + dir2 );\n//       vec2 perp = vec2( -dir1.y, dir1.x );\n//       vec2 miter = vec2( -dir.y, dir.x );\n//       vColor = vec3(0.0, 0.0, 1.0);\n//\n//       // vColor = dir;\n//       //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * a_width );\n//   }\n//   //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;\n//   vec2 normal = vec2( -dir.y, dir.x );\n//   normal.x /= aspect;\n//   normal *= .5 * w;\n//   vec4 offset = vec4( normal * a_side, 0.0, 1.0 );\n//   finalPosition.xy += offset.xy;\n//\n//\n//   gl_Position = finalPosition;//u_worldViewProjection * vec4(position, position.w);\n//\n//   vPosition = ( u_worldViewProjection * vec4(position, 1.0) ).xyz;\n//   // gl_Position = u_worldViewProjection * vec4(position, position.w);\n//\n// }\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n// uniform mat4 u_world;\n\n\nattribute vec4 a_position;\nattribute float direction;\nattribute vec4 a_previous;\nattribute vec4 a_next;\n// attribute vec4 a_offsets;\nattribute float a_counters;\n\nuniform mat4 u_worldViewProjection;\nuniform float aspect;\n\nvarying vec3 vColor;\nvarying float vCounters;\n\nvoid main() {\n\n  float thickness = 20.0;\n  int miter = 0;\n\n  vec2 aspectVec = vec2(aspect, 1.0);\n  // mat4 projViewModel = u_worldViewProjection;//projection * view * model;\n  vec4 previousProjected = u_worldViewProjection * vec4(a_previous.x, -a_previous.y, a_previous.z, 1.0);\n  vec4 currentProjected = u_worldViewProjection * vec4(a_position.x, -a_position.y, a_position.z, 1.0);\n  vec4 nextProjected = u_worldViewProjection * vec4(a_next.x, -a_next.y, a_next.z, 1.0);\n\n  //get 2D screen space with W divide and aspect correction\n  vec2 currentScreen = currentProjected.xy / currentProjected.w * aspectVec;\n  vec2 previousScreen = previousProjected.xy / previousProjected.w * aspectVec;\n  vec2 nextScreen = nextProjected.xy / nextProjected.w * aspectVec;\n\n  vCounters = a_counters;\n\n  float len = thickness;\n  float orientation = direction;\n\n  //starting point uses (next - current)\n  vColor = vec3(1.0, .0, 0.0);\n  vec2 dir = vec2(0.0);\n  if (currentScreen == previousScreen) {\n    dir = normalize(nextScreen - currentScreen);\n    // vColor = vec3(1.0, 0.0, 0.0);\n  }\n  //ending point uses (current - previous)\n  else if (currentScreen == nextScreen) {\n    dir = normalize(currentScreen - previousScreen);\n    // vColor = vec3(0.0, 1.0, 0.0);\n  }\n  //somewhere in middle, needs a join\n  else {\n    //get directions from (C - B) and (B - A)\n\n    vec2 dirA = normalize((currentScreen - previousScreen));\n    if (miter == 1) {\n      vec2 dirB = normalize((nextScreen - currentScreen));\n      //now compute the miter join normal and length\n      vec2 tangent = normalize(dirA + dirB);\n      vec2 perp = vec2(-dirA.y, dirA.x);\n      vec2 miter = vec2(-tangent.y, tangent.x);\n      dir = tangent;\n      len = thickness / dot(miter, perp);\n    } else {\n      dir = dirA;\n\n    }\n  }\n  vec2 normal = vec2(-dir.y, dir.x);\n  vColor = vec3(normal, 1.0);\n  normal *= len/2.0;\n  normal.x /= aspect;\n\n  vec4 offset = vec4(normal * orientation, 0.0, 1.0);\n  // vColor = vec3(orientation);\n\n\n\n\n\n  gl_Position = currentProjected + offset;\n  gl_PointSize = 2.0;\n}\n"},function(module,exports){module.exports="precision mediump float;\n#define GLSLIFY 1\n\n\nuniform float alpha;\n// varying vec3 vPosition;\n// varying vec3 vColor;\n\nvarying float vCounters;\n\nvoid main() {\n  vec3 color = vec3(.2,.2,.2);\n\n  gl_FragColor = vec4(color, 1.0);\n  gl_FragColor.a *= step(vCounters, 1.0);\n}\n"},function(module,exports,__webpack_require__){module.exports=__webpack_require__(132),module.exports.color=__webpack_require__(133)},function(module,exports){var dat=module.exports=dat||{};dat.gui=dat.gui||{},dat.utils=dat.utils||{},dat.controllers=dat.controllers||{},dat.dom=dat.dom||{},dat.color=dat.color||{},dat.utils.css=function(){return{load:function(url,doc){doc=doc||document;var link=doc.createElement("link");link.type="text/css",link.rel="stylesheet",link.href=url,doc.getElementsByTagName("head")[0].appendChild(link)},inject:function(css,doc){doc=doc||document;var injected=document.createElement("style");injected.type="text/css",injected.innerHTML=css,doc.getElementsByTagName("head")[0].appendChild(injected)}}}(),dat.utils.common=function(){var ARR_EACH=Array.prototype.forEach,ARR_SLICE=Array.prototype.slice;return{BREAK:{},extend:function(target){return this.each(ARR_SLICE.call(arguments,1),function(obj){for(var key in obj)this.isUndefined(obj[key])||(target[key]=obj[key])},this),target},defaults:function(target){return this.each(ARR_SLICE.call(arguments,1),function(obj){for(var key in obj)this.isUndefined(target[key])&&(target[key]=obj[key])},this),target},compose:function(){var toCall=ARR_SLICE.call(arguments);return function(){for(var args=ARR_SLICE.call(arguments),i=toCall.length-1;i>=0;i--)args=[toCall[i].apply(this,args)];return args[0]}},each:function(obj,itr,scope){if(ARR_EACH&&obj.forEach===ARR_EACH)obj.forEach(itr,scope);else if(obj.length===obj.length+0){for(var key=0,l=obj.length;key<l;key++)if(key in obj&&itr.call(scope,obj[key],key)===this.BREAK)return}else for(var key in obj)if(itr.call(scope,obj[key],key)===this.BREAK)return},defer:function(fnc){setTimeout(fnc,0)},toArray:function(obj){return obj.toArray?obj.toArray():ARR_SLICE.call(obj)},isUndefined:function(obj){return void 0===obj},isNull:function(obj){return null===obj},isNaN:function(obj){return obj!==obj},isArray:Array.isArray||function(obj){return obj.constructor===Array},isObject:function(obj){return obj===Object(obj)},isNumber:function(obj){return obj===obj+0},isString:function(obj){return obj===obj+""},isBoolean:function(obj){return obj===!1||obj===!0},isFunction:function(obj){return"[object Function]"===Object.prototype.toString.call(obj)}}}(),dat.controllers.Controller=function(common){var Controller=function(object,property){this.initialValue=object[property],this.domElement=document.createElement("div"),this.object=object,this.property=property,this.__onChange=void 0,this.__onFinishChange=void 0};return common.extend(Controller.prototype,{onChange:function(fnc){return this.__onChange=fnc,this},onFinishChange:function(fnc){return this.__onFinishChange=fnc,this},setValue:function(newValue){return this.object[this.property]=newValue,this.__onChange&&this.__onChange.call(this,newValue),this.updateDisplay(),this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}}),Controller}(dat.utils.common),dat.dom.dom=function(common){function cssValueToPixels(val){if("0"===val||common.isUndefined(val))return 0;var match=val.match(CSS_VALUE_PIXELS);return common.isNull(match)?0:parseFloat(match[1])}var EVENT_MAP={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},EVENT_MAP_INV={};common.each(EVENT_MAP,function(v,k){common.each(v,function(e){EVENT_MAP_INV[e]=k})});var CSS_VALUE_PIXELS=/(\d+(\.\d+)?)px/,dom={makeSelectable:function(elem,selectable){void 0!==elem&&void 0!==elem.style&&(elem.onselectstart=selectable?function(){return!1}:function(){},elem.style.MozUserSelect=selectable?"auto":"none",elem.style.KhtmlUserSelect=selectable?"auto":"none",elem.unselectable=selectable?"on":"off")},makeFullscreen:function(elem,horizontal,vertical){common.isUndefined(horizontal)&&(horizontal=!0),common.isUndefined(vertical)&&(vertical=!0),elem.style.position="absolute",horizontal&&(elem.style.left=0,elem.style.right=0),vertical&&(elem.style.top=0,elem.style.bottom=0)},fakeEvent:function(elem,eventType,params,aux){params=params||{};var className=EVENT_MAP_INV[eventType];if(!className)throw new Error("Event type "+eventType+" not supported.");var evt=document.createEvent(className);switch(className){case"MouseEvents":var clientX=params.x||params.clientX||0,clientY=params.y||params.clientY||0;evt.initMouseEvent(eventType,params.bubbles||!1,params.cancelable||!0,window,params.clickCount||1,0,0,clientX,clientY,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var init=evt.initKeyboardEvent||evt.initKeyEvent;common.defaults(params,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),init(eventType,params.bubbles||!1,params.cancelable,window,params.ctrlKey,params.altKey,params.shiftKey,params.metaKey,params.keyCode,params.charCode);break;default:evt.initEvent(eventType,params.bubbles||!1,params.cancelable||!0)}common.defaults(evt,aux),elem.dispatchEvent(evt)},bind:function(elem,event,func,bool){return bool=bool||!1,elem.addEventListener?elem.addEventListener(event,func,bool):elem.attachEvent&&elem.attachEvent("on"+event,func),dom},unbind:function(elem,event,func,bool){return bool=bool||!1,elem.removeEventListener?elem.removeEventListener(event,func,bool):elem.detachEvent&&elem.detachEvent("on"+event,func),dom},addClass:function(elem,className){if(void 0===elem.className)elem.className=className;else if(elem.className!==className){var classes=elem.className.split(/ +/);classes.indexOf(className)==-1&&(classes.push(className),elem.className=classes.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return dom},removeClass:function(elem,className){if(className)if(void 0===elem.className);else if(elem.className===className)elem.removeAttribute("class");else{var classes=elem.className.split(/ +/),index=classes.indexOf(className);index!=-1&&(classes.splice(index,1),elem.className=classes.join(" "))}else elem.className=void 0;return dom},hasClass:function(elem,className){return new RegExp("(?:^|\\s+)"+className+"(?:\\s+|$)").test(elem.className)||!1},getWidth:function(elem){var style=getComputedStyle(elem);return cssValueToPixels(style["border-left-width"])+cssValueToPixels(style["border-right-width"])+cssValueToPixels(style["padding-left"])+cssValueToPixels(style["padding-right"])+cssValueToPixels(style.width)},getHeight:function(elem){var style=getComputedStyle(elem);return cssValueToPixels(style["border-top-width"])+cssValueToPixels(style["border-bottom-width"])+cssValueToPixels(style["padding-top"])+cssValueToPixels(style["padding-bottom"])+cssValueToPixels(style.height)},getOffset:function(elem){var offset={left:0,top:0};if(elem.offsetParent)do offset.left+=elem.offsetLeft,offset.top+=elem.offsetTop;while(elem=elem.offsetParent);return offset},isActive:function(elem){return elem===document.activeElement&&(elem.type||elem.href)}};return dom}(dat.utils.common),dat.controllers.OptionController=function(Controller,dom,common){var OptionController=function(object,property,options){OptionController.superclass.call(this,object,property);var _this=this;if(this.__select=document.createElement("select"),common.isArray(options)){var map={};common.each(options,function(element){map[element]=element}),options=map}common.each(options,function(value,key){var opt=document.createElement("option");opt.innerHTML=key,opt.setAttribute("value",value),_this.__select.appendChild(opt)}),this.updateDisplay(),dom.bind(this.__select,"change",function(){var desiredValue=this.options[this.selectedIndex].value;_this.setValue(desiredValue)}),this.domElement.appendChild(this.__select)};return OptionController.superclass=Controller,common.extend(OptionController.prototype,Controller.prototype,{setValue:function(v){var toReturn=OptionController.superclass.prototype.setValue.call(this,v);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),toReturn},updateDisplay:function(){return this.__select.value=this.getValue(),OptionController.superclass.prototype.updateDisplay.call(this)}}),OptionController}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.NumberController=function(Controller,common){function numDecimals(x){return x=x.toString(),x.indexOf(".")>-1?x.length-x.indexOf(".")-1:0}var NumberController=function(object,property,params){NumberController.superclass.call(this,object,property),params=params||{},this.__min=params.min,this.__max=params.max,this.__step=params.step,common.isUndefined(this.__step)?0==this.initialValue?this.__impliedStep=1:this.__impliedStep=Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__impliedStep=this.__step,this.__precision=numDecimals(this.__impliedStep)};return NumberController.superclass=Controller,common.extend(NumberController.prototype,Controller.prototype,{setValue:function(v){return void 0!==this.__min&&v<this.__min?v=this.__min:void 0!==this.__max&&v>this.__max&&(v=this.__max),void 0!==this.__step&&v%this.__step!=0&&(v=Math.round(v/this.__step)*this.__step),NumberController.superclass.prototype.setValue.call(this,v)},min:function(v){return this.__min=v,this},max:function(v){return this.__max=v,this},step:function(v){return this.__step=v,this}}),NumberController}(dat.controllers.Controller,dat.utils.common),dat.controllers.NumberControllerBox=function(NumberController,dom,common){function roundToDecimal(value,decimals){var tenTo=Math.pow(10,decimals);return Math.round(value*tenTo)/tenTo}var NumberControllerBox=function(object,property,params){function onChange(){var attempted=parseFloat(_this.__input.value);common.isNaN(attempted)||_this.setValue(attempted)}function onBlur(){onChange(),_this.__onFinishChange&&_this.__onFinishChange.call(_this,_this.getValue())}function onMouseDown(e){dom.bind(window,"mousemove",onMouseDrag),dom.bind(window,"mouseup",onMouseUp),prev_y=e.clientY}function onMouseDrag(e){var diff=prev_y-e.clientY;_this.setValue(_this.getValue()+diff*_this.__impliedStep),prev_y=e.clientY}function onMouseUp(){dom.unbind(window,"mousemove",onMouseDrag),dom.unbind(window,"mouseup",onMouseUp)}this.__truncationSuspended=!1,NumberControllerBox.superclass.call(this,object,property,params);var prev_y,_this=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),dom.bind(this.__input,"change",onChange),dom.bind(this.__input,"blur",onBlur),dom.bind(this.__input,"mousedown",onMouseDown),dom.bind(this.__input,"keydown",function(e){13===e.keyCode&&(_this.__truncationSuspended=!0,this.blur(),_this.__truncationSuspended=!1)}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return NumberControllerBox.superclass=NumberController,common.extend(NumberControllerBox.prototype,NumberController.prototype,{updateDisplay:function(){return this.__input.value=this.__truncationSuspended?this.getValue():roundToDecimal(this.getValue(),this.__precision),NumberControllerBox.superclass.prototype.updateDisplay.call(this)}}),NumberControllerBox}(dat.controllers.NumberController,dat.dom.dom,dat.utils.common),dat.controllers.NumberControllerSlider=function(NumberController,dom,css,common,styleSheet){function map(v,i1,i2,o1,o2){return o1+(o2-o1)*((v-i1)/(i2-i1))}var NumberControllerSlider=function(object,property,min,max,step){function onMouseDown(e){dom.bind(window,"mousemove",onMouseDrag),dom.bind(window,"mouseup",onMouseUp),onMouseDrag(e)}function onMouseDrag(e){e.preventDefault();var offset=dom.getOffset(_this.__background),width=dom.getWidth(_this.__background);return _this.setValue(map(e.clientX,offset.left,offset.left+width,_this.__min,_this.__max)),!1}function onMouseUp(){dom.unbind(window,"mousemove",onMouseDrag),dom.unbind(window,"mouseup",onMouseUp),_this.__onFinishChange&&_this.__onFinishChange.call(_this,_this.getValue())}NumberControllerSlider.superclass.call(this,object,property,{min:min,max:max,step:step});var _this=this;this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),dom.bind(this.__background,"mousedown",onMouseDown),dom.addClass(this.__background,"slider"),dom.addClass(this.__foreground,"slider-fg"),this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)};return NumberControllerSlider.superclass=NumberController,NumberControllerSlider.useDefaultStyles=function(){css.inject(styleSheet)},common.extend(NumberControllerSlider.prototype,NumberController.prototype,{updateDisplay:function(){var pct=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*pct+"%",NumberControllerSlider.superclass.prototype.updateDisplay.call(this)}}),NumberControllerSlider}(dat.controllers.NumberController,dat.dom.dom,dat.utils.css,dat.utils.common,".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}"),dat.controllers.FunctionController=function(Controller,dom,common){var FunctionController=function(object,property,text){FunctionController.superclass.call(this,object,property);var _this=this;this.__button=document.createElement("div"),this.__button.innerHTML=void 0===text?"Fire":text,dom.bind(this.__button,"click",function(e){return e.preventDefault(),_this.fire(),!1}),dom.addClass(this.__button,"button"),this.domElement.appendChild(this.__button)};return FunctionController.superclass=Controller,common.extend(FunctionController.prototype,Controller.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.getValue().call(this.object)}}),FunctionController}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.BooleanController=function(Controller,dom,common){var BooleanController=function(object,property){function onChange(){_this.setValue(!_this.__prev)}BooleanController.superclass.call(this,object,property);var _this=this;this.__prev=this.getValue(),this.__checkbox=document.createElement("input"),this.__checkbox.setAttribute("type","checkbox"),dom.bind(this.__checkbox,"change",onChange,!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay()};return BooleanController.superclass=Controller,common.extend(BooleanController.prototype,Controller.prototype,{setValue:function(v){var toReturn=BooleanController.superclass.prototype.setValue.call(this,v);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),toReturn},updateDisplay:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,BooleanController.superclass.prototype.updateDisplay.call(this)}}),BooleanController}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.color.toString=function(common){return function(color){if(1==color.a||common.isUndefined(color.a)){for(var s=color.hex.toString(16);s.length<6;)s="0"+s;return"#"+s}return"rgba("+Math.round(color.r)+","+Math.round(color.g)+","+Math.round(color.b)+","+color.a+")"}}(dat.utils.common),dat.color.interpret=function(toString,common){var result,toReturn,interpret=function(){toReturn=!1;var original=arguments.length>1?common.toArray(arguments):arguments[0];return common.each(INTERPRETATIONS,function(family){if(family.litmus(original))return common.each(family.conversions,function(conversion,conversionName){if(result=conversion.read(original),toReturn===!1&&result!==!1)return toReturn=result,result.conversionName=conversionName,result.conversion=conversion,common.BREAK}),common.BREAK}),toReturn},INTERPRETATIONS=[{litmus:common.isString,conversions:{THREE_CHAR_HEX:{read:function(original){var test=original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==test&&{space:"HEX",hex:parseInt("0x"+test[1].toString()+test[1].toString()+test[2].toString()+test[2].toString()+test[3].toString()+test[3].toString())}},write:toString},SIX_CHAR_HEX:{
read:function(original){var test=original.match(/^#([A-F0-9]{6})$/i);return null!==test&&{space:"HEX",hex:parseInt("0x"+test[1].toString())}},write:toString},CSS_RGB:{read:function(original){var test=original.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==test&&{space:"RGB",r:parseFloat(test[1]),g:parseFloat(test[2]),b:parseFloat(test[3])}},write:toString},CSS_RGBA:{read:function(original){var test=original.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null!==test&&{space:"RGB",r:parseFloat(test[1]),g:parseFloat(test[2]),b:parseFloat(test[3]),a:parseFloat(test[4])}},write:toString}}},{litmus:common.isNumber,conversions:{HEX:{read:function(original){return{space:"HEX",hex:original,conversionName:"HEX"}},write:function(color){return color.hex}}}},{litmus:common.isArray,conversions:{RGB_ARRAY:{read:function(original){return 3==original.length&&{space:"RGB",r:original[0],g:original[1],b:original[2]}},write:function(color){return[color.r,color.g,color.b]}},RGBA_ARRAY:{read:function(original){return 4==original.length&&{space:"RGB",r:original[0],g:original[1],b:original[2],a:original[3]}},write:function(color){return[color.r,color.g,color.b,color.a]}}}},{litmus:common.isObject,conversions:{RGBA_OBJ:{read:function(original){return!!(common.isNumber(original.r)&&common.isNumber(original.g)&&common.isNumber(original.b)&&common.isNumber(original.a))&&{space:"RGB",r:original.r,g:original.g,b:original.b,a:original.a}},write:function(color){return{r:color.r,g:color.g,b:color.b,a:color.a}}},RGB_OBJ:{read:function(original){return!!(common.isNumber(original.r)&&common.isNumber(original.g)&&common.isNumber(original.b))&&{space:"RGB",r:original.r,g:original.g,b:original.b}},write:function(color){return{r:color.r,g:color.g,b:color.b}}},HSVA_OBJ:{read:function(original){return!!(common.isNumber(original.h)&&common.isNumber(original.s)&&common.isNumber(original.v)&&common.isNumber(original.a))&&{space:"HSV",h:original.h,s:original.s,v:original.v,a:original.a}},write:function(color){return{h:color.h,s:color.s,v:color.v,a:color.a}}},HSV_OBJ:{read:function(original){return!!(common.isNumber(original.h)&&common.isNumber(original.s)&&common.isNumber(original.v))&&{space:"HSV",h:original.h,s:original.s,v:original.v}},write:function(color){return{h:color.h,s:color.s,v:color.v}}}}}];return interpret}(dat.color.toString,dat.utils.common),dat.GUI=dat.gui.GUI=function(css,saveDialogueContents,styleSheet,controllerFactory,Controller,BooleanController,FunctionController,NumberControllerBox,NumberControllerSlider,OptionController,ColorController,requestAnimationFrame,CenteredDiv,dom,common){function add(gui,object,property,params){if(void 0===object[property])throw new Error("Object "+object+' has no property "'+property+'"');var controller;if(params.color)controller=new ColorController(object,property);else{var factoryArgs=[object,property].concat(params.factoryArgs);controller=controllerFactory.apply(gui,factoryArgs)}params.before instanceof Controller&&(params.before=params.before.__li),recallSavedValue(gui,controller),dom.addClass(controller.domElement,"c");var name=document.createElement("span");dom.addClass(name,"property-name"),name.innerHTML=controller.property;var container=document.createElement("div");container.appendChild(name),container.appendChild(controller.domElement);var li=addRow(gui,container,params.before);return dom.addClass(li,GUI.CLASS_CONTROLLER_ROW),dom.addClass(li,typeof controller.getValue()),augmentController(gui,li,controller),gui.__controllers.push(controller),controller}function addRow(gui,dom,liBefore){var li=document.createElement("li");return dom&&li.appendChild(dom),liBefore?gui.__ul.insertBefore(li,params.before):gui.__ul.appendChild(li),gui.onResize(),li}function augmentController(gui,li,controller){if(controller.__li=li,controller.__gui=gui,common.extend(controller,{options:function(options){return arguments.length>1?(controller.remove(),add(gui,controller.object,controller.property,{before:controller.__li.nextElementSibling,factoryArgs:[common.toArray(arguments)]})):common.isArray(options)||common.isObject(options)?(controller.remove(),add(gui,controller.object,controller.property,{before:controller.__li.nextElementSibling,factoryArgs:[options]})):void 0},name:function(v){return controller.__li.firstElementChild.firstElementChild.innerHTML=v,controller},listen:function(){return controller.__gui.listen(controller),controller},remove:function(){return controller.__gui.remove(controller),controller}}),controller instanceof NumberControllerSlider){var box=new NumberControllerBox(controller.object,controller.property,{min:controller.__min,max:controller.__max,step:controller.__step});common.each(["updateDisplay","onChange","onFinishChange"],function(method){var pc=controller[method],pb=box[method];controller[method]=box[method]=function(){var args=Array.prototype.slice.call(arguments);return pc.apply(controller,args),pb.apply(box,args)}}),dom.addClass(li,"has-slider"),controller.domElement.insertBefore(box.domElement,controller.domElement.firstElementChild)}else if(controller instanceof NumberControllerBox){var r=function(returned){return common.isNumber(controller.__min)&&common.isNumber(controller.__max)?(controller.remove(),add(gui,controller.object,controller.property,{before:controller.__li.nextElementSibling,factoryArgs:[controller.__min,controller.__max,controller.__step]})):returned};controller.min=common.compose(r,controller.min),controller.max=common.compose(r,controller.max)}else controller instanceof BooleanController?(dom.bind(li,"click",function(){dom.fakeEvent(controller.__checkbox,"click")}),dom.bind(controller.__checkbox,"click",function(e){e.stopPropagation()})):controller instanceof FunctionController?(dom.bind(li,"click",function(){dom.fakeEvent(controller.__button,"click")}),dom.bind(li,"mouseover",function(){dom.addClass(controller.__button,"hover")}),dom.bind(li,"mouseout",function(){dom.removeClass(controller.__button,"hover")})):controller instanceof ColorController&&(dom.addClass(li,"color"),controller.updateDisplay=common.compose(function(r){return li.style.borderLeftColor=controller.__color.toString(),r},controller.updateDisplay),controller.updateDisplay());controller.setValue=common.compose(function(r){return gui.getRoot().__preset_select&&controller.isModified()&&markPresetModified(gui.getRoot(),!0),r},controller.setValue)}function recallSavedValue(gui,controller){var root=gui.getRoot(),matched_index=root.__rememberedObjects.indexOf(controller.object);if(matched_index!=-1){var controller_map=root.__rememberedObjectIndecesToControllers[matched_index];if(void 0===controller_map&&(controller_map={},root.__rememberedObjectIndecesToControllers[matched_index]=controller_map),controller_map[controller.property]=controller,root.load&&root.load.remembered){var preset,preset_map=root.load.remembered;if(preset_map[gui.preset])preset=preset_map[gui.preset];else{if(!preset_map[DEFAULT_DEFAULT_PRESET_NAME])return;preset=preset_map[DEFAULT_DEFAULT_PRESET_NAME]}if(preset[matched_index]&&void 0!==preset[matched_index][controller.property]){var value=preset[matched_index][controller.property];controller.initialValue=value,controller.setValue(value)}}}}function getLocalStorageHash(gui,key){return document.location.href+"."+key}function addSaveMenu(gui){function showHideExplain(){explain.style.display=gui.useLocalStorage?"block":"none"}var div=gui.__save_row=document.createElement("li");dom.addClass(gui.domElement,"has-save"),gui.__ul.insertBefore(div,gui.__ul.firstChild),dom.addClass(div,"save-row");var gears=document.createElement("span");gears.innerHTML="&nbsp;",dom.addClass(gears,"button gears");var button=document.createElement("span");button.innerHTML="Save",dom.addClass(button,"button"),dom.addClass(button,"save");var button2=document.createElement("span");button2.innerHTML="New",dom.addClass(button2,"button"),dom.addClass(button2,"save-as");var button3=document.createElement("span");button3.innerHTML="Revert",dom.addClass(button3,"button"),dom.addClass(button3,"revert");var select=gui.__preset_select=document.createElement("select");if(gui.load&&gui.load.remembered?common.each(gui.load.remembered,function(value,key){addPresetOption(gui,key,key==gui.preset)}):addPresetOption(gui,DEFAULT_DEFAULT_PRESET_NAME,!1),dom.bind(select,"change",function(){for(var index=0;index<gui.__preset_select.length;index++)gui.__preset_select[index].innerHTML=gui.__preset_select[index].value;gui.preset=this.value}),div.appendChild(select),div.appendChild(gears),div.appendChild(button),div.appendChild(button2),div.appendChild(button3),SUPPORTS_LOCAL_STORAGE){var saveLocally=document.getElementById("dg-save-locally"),explain=document.getElementById("dg-local-explain");saveLocally.style.display="block";var localStorageCheckBox=document.getElementById("dg-local-storage");"true"===localStorage.getItem(getLocalStorageHash(gui,"isLocal"))&&localStorageCheckBox.setAttribute("checked","checked"),showHideExplain(),dom.bind(localStorageCheckBox,"change",function(){gui.useLocalStorage=!gui.useLocalStorage,showHideExplain()})}var newConstructorTextArea=document.getElementById("dg-new-constructor");dom.bind(newConstructorTextArea,"keydown",function(e){!e.metaKey||67!==e.which&&67!=e.keyCode||SAVE_DIALOGUE.hide()}),dom.bind(gears,"click",function(){newConstructorTextArea.innerHTML=JSON.stringify(gui.getSaveObject(),void 0,2),SAVE_DIALOGUE.show(),newConstructorTextArea.focus(),newConstructorTextArea.select()}),dom.bind(button,"click",function(){gui.save()}),dom.bind(button2,"click",function(){var presetName=prompt("Enter a new preset name.");presetName&&gui.saveAs(presetName)}),dom.bind(button3,"click",function(){gui.revert()})}function addResizeHandle(gui){function dragStart(e){return e.preventDefault(),pmouseX=e.clientX,dom.addClass(gui.__closeButton,GUI.CLASS_DRAG),dom.bind(window,"mousemove",drag),dom.bind(window,"mouseup",dragStop),!1}function drag(e){return e.preventDefault(),gui.width+=pmouseX-e.clientX,gui.onResize(),pmouseX=e.clientX,!1}function dragStop(){dom.removeClass(gui.__closeButton,GUI.CLASS_DRAG),dom.unbind(window,"mousemove",drag),dom.unbind(window,"mouseup",dragStop)}gui.__resize_handle=document.createElement("div"),common.extend(gui.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});var pmouseX;dom.bind(gui.__resize_handle,"mousedown",dragStart),dom.bind(gui.__closeButton,"mousedown",dragStart),gui.domElement.insertBefore(gui.__resize_handle,gui.domElement.firstElementChild)}function setWidth(gui,w){gui.domElement.style.width=w+"px",gui.__save_row&&gui.autoPlace&&(gui.__save_row.style.width=w+"px"),gui.__closeButton&&(gui.__closeButton.style.width=w+"px")}function getCurrentPreset(gui,useInitialValues){var toReturn={};return common.each(gui.__rememberedObjects,function(val,index){var saved_values={},controller_map=gui.__rememberedObjectIndecesToControllers[index];common.each(controller_map,function(controller,property){saved_values[property]=useInitialValues?controller.initialValue:controller.getValue()}),toReturn[index]=saved_values}),toReturn}function addPresetOption(gui,name,setSelected){var opt=document.createElement("option");opt.innerHTML=name,opt.value=name,gui.__preset_select.appendChild(opt),setSelected&&(gui.__preset_select.selectedIndex=gui.__preset_select.length-1)}function setPresetSelectIndex(gui){for(var index=0;index<gui.__preset_select.length;index++)gui.__preset_select[index].value==gui.preset&&(gui.__preset_select.selectedIndex=index)}function markPresetModified(gui,modified){var opt=gui.__preset_select[gui.__preset_select.selectedIndex];modified?opt.innerHTML=opt.value+"*":opt.innerHTML=opt.value}function updateDisplays(controllerArray){0!=controllerArray.length&&requestAnimationFrame(function(){updateDisplays(controllerArray)}),common.each(controllerArray,function(c){c.updateDisplay()})}css.inject(styleSheet);var SAVE_DIALOGUE,auto_place_container,CSS_NAMESPACE="dg",HIDE_KEY_CODE=72,CLOSE_BUTTON_HEIGHT=20,DEFAULT_DEFAULT_PRESET_NAME="Default",SUPPORTS_LOCAL_STORAGE=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}(),auto_place_virgin=!0,hide=!1,hideable_guis=[],GUI=function(params){function saveToLocalStorage(){localStorage.setItem(getLocalStorageHash(_this,"gui"),JSON.stringify(_this.getSaveObject()))}function resetWidth(){var root=_this.getRoot();root.width+=1,common.defer(function(){root.width-=1})}var _this=this;this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),dom.addClass(this.domElement,CSS_NAMESPACE),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],params=params||{},params=common.defaults(params,{autoPlace:!0,width:GUI.DEFAULT_WIDTH}),params=common.defaults(params,{resizable:params.autoPlace,hideable:params.autoPlace}),common.isUndefined(params.load)?params.load={preset:DEFAULT_DEFAULT_PRESET_NAME}:params.preset&&(params.load.preset=params.preset),common.isUndefined(params.parent)&&params.hideable&&hideable_guis.push(this),params.resizable=common.isUndefined(params.parent)&&params.resizable,params.autoPlace&&common.isUndefined(params.scrollable)&&(params.scrollable=!0);var use_local_storage=SUPPORTS_LOCAL_STORAGE&&"true"===localStorage.getItem(getLocalStorageHash(this,"isLocal"));if(Object.defineProperties(this,{parent:{get:function(){return params.parent}},scrollable:{get:function(){return params.scrollable}},autoPlace:{get:function(){return params.autoPlace}},preset:{get:function(){return _this.parent?_this.getRoot().preset:params.load.preset},set:function(v){_this.parent?_this.getRoot().preset=v:params.load.preset=v,setPresetSelectIndex(this),_this.revert()}},width:{get:function(){return params.width},set:function(v){params.width=v,setWidth(_this,v)}},name:{get:function(){return params.name},set:function(v){params.name=v,title_row_name&&(title_row_name.innerHTML=params.name)}},closed:{get:function(){return params.closed},set:function(v){params.closed=v,params.closed?dom.addClass(_this.__ul,GUI.CLASS_CLOSED):dom.removeClass(_this.__ul,GUI.CLASS_CLOSED),this.onResize(),_this.__closeButton&&(_this.__closeButton.innerHTML=v?GUI.TEXT_OPEN:GUI.TEXT_CLOSED)}},load:{get:function(){return params.load}},useLocalStorage:{get:function(){return use_local_storage},set:function(bool){SUPPORTS_LOCAL_STORAGE&&(use_local_storage=bool,bool?dom.bind(window,"unload",saveToLocalStorage):dom.unbind(window,"unload",saveToLocalStorage),localStorage.setItem(getLocalStorageHash(_this,"isLocal"),bool))}}}),common.isUndefined(params.parent)){if(params.closed=!1,dom.addClass(this.domElement,GUI.CLASS_MAIN),dom.makeSelectable(this.domElement,!1),SUPPORTS_LOCAL_STORAGE&&use_local_storage){_this.useLocalStorage=!0;var saved_gui=localStorage.getItem(getLocalStorageHash(this,"gui"));saved_gui&&(params.load=JSON.parse(saved_gui))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=GUI.TEXT_CLOSED,dom.addClass(this.__closeButton,GUI.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),dom.bind(this.__closeButton,"click",function(){_this.closed=!_this.closed})}else{void 0===params.closed&&(params.closed=!0);var title_row_name=document.createTextNode(params.name);dom.addClass(title_row_name,"controller-name");var title_row=addRow(_this,title_row_name),on_click_title=function(e){return e.preventDefault(),_this.closed=!_this.closed,!1};dom.addClass(this.__ul,GUI.CLASS_CLOSED),dom.addClass(title_row,"title"),dom.bind(title_row,"click",on_click_title),params.closed||(this.closed=!1)}params.autoPlace&&(common.isUndefined(params.parent)&&(auto_place_virgin&&(auto_place_container=document.createElement("div"),dom.addClass(auto_place_container,CSS_NAMESPACE),dom.addClass(auto_place_container,GUI.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(auto_place_container),auto_place_virgin=!1),auto_place_container.appendChild(this.domElement),dom.addClass(this.domElement,GUI.CLASS_AUTO_PLACE)),this.parent||setWidth(_this,params.width)),dom.bind(window,"resize",function(){_this.onResize()}),dom.bind(this.__ul,"webkitTransitionEnd",function(){_this.onResize()}),dom.bind(this.__ul,"transitionend",function(){_this.onResize()}),dom.bind(this.__ul,"oTransitionEnd",function(){_this.onResize()}),this.onResize(),params.resizable&&addResizeHandle(this);_this.getRoot();params.parent||resetWidth()};return GUI.toggleHide=function(){hide=!hide,common.each(hideable_guis,function(gui){gui.domElement.style.zIndex=hide?-999:999,gui.domElement.style.opacity=hide?0:1})},GUI.CLASS_AUTO_PLACE="a",GUI.CLASS_AUTO_PLACE_CONTAINER="ac",GUI.CLASS_MAIN="main",GUI.CLASS_CONTROLLER_ROW="cr",GUI.CLASS_TOO_TALL="taller-than-window",GUI.CLASS_CLOSED="closed",GUI.CLASS_CLOSE_BUTTON="close-button",GUI.CLASS_DRAG="drag",GUI.DEFAULT_WIDTH=245,GUI.TEXT_CLOSED="Close Controls",GUI.TEXT_OPEN="Open Controls",dom.bind(window,"keydown",function(e){"text"===document.activeElement.type||e.which!==HIDE_KEY_CODE&&e.keyCode!=HIDE_KEY_CODE||GUI.toggleHide()},!1),common.extend(GUI.prototype,{add:function(object,property){return add(this,object,property,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(object,property){return add(this,object,property,{color:!0})},remove:function(controller){this.__ul.removeChild(controller.__li),this.__controllers.slice(this.__controllers.indexOf(controller),1);var _this=this;common.defer(function(){_this.onResize()})},destroy:function(){this.autoPlace&&auto_place_container.removeChild(this.domElement)},addFolder:function(name){if(void 0!==this.__folders[name])throw new Error('You already have a folder in this GUI by the name "'+name+'"');var new_gui_params={name:name,parent:this};new_gui_params.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[name]&&(new_gui_params.closed=this.load.folders[name].closed,new_gui_params.load=this.load.folders[name]);var gui=new GUI(new_gui_params);this.__folders[name]=gui;var li=addRow(this,gui.domElement);return dom.addClass(li,"folder"),gui},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var root=this.getRoot();if(root.scrollable){var top=dom.getOffset(root.__ul).top,h=0;common.each(root.__ul.childNodes,function(node){root.autoPlace&&node===root.__save_row||(h+=dom.getHeight(node))}),window.innerHeight-top-CLOSE_BUTTON_HEIGHT<h?(dom.addClass(root.domElement,GUI.CLASS_TOO_TALL),root.__ul.style.height=window.innerHeight-top-CLOSE_BUTTON_HEIGHT+"px"):(dom.removeClass(root.domElement,GUI.CLASS_TOO_TALL),root.__ul.style.height="auto")}root.__resize_handle&&common.defer(function(){root.__resize_handle.style.height=root.__ul.offsetHeight+"px"}),root.__closeButton&&(root.__closeButton.style.width=root.width+"px")},remember:function(){if(common.isUndefined(SAVE_DIALOGUE)&&(SAVE_DIALOGUE=new CenteredDiv,SAVE_DIALOGUE.domElement.innerHTML=saveDialogueContents),this.parent)throw new Error("You can only call remember on a top level GUI.");var _this=this;common.each(Array.prototype.slice.call(arguments),function(object){0==_this.__rememberedObjects.length&&addSaveMenu(_this),_this.__rememberedObjects.indexOf(object)==-1&&_this.__rememberedObjects.push(object)}),this.autoPlace&&setWidth(this,this.width)},getRoot:function(){for(var gui=this;gui.parent;)gui=gui.parent;return gui},getSaveObject:function(){var toReturn=this.load;return toReturn.closed=this.closed,this.__rememberedObjects.length>0&&(toReturn.preset=this.preset,toReturn.remembered||(toReturn.remembered={}),toReturn.remembered[this.preset]=getCurrentPreset(this)),toReturn.folders={},common.each(this.__folders,function(element,key){toReturn.folders[key]=element.getSaveObject()}),toReturn},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=getCurrentPreset(this),markPresetModified(this,!1)},saveAs:function(presetName){this.load.remembered||(this.load.remembered={},this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME]=getCurrentPreset(this,!0)),this.load.remembered[presetName]=getCurrentPreset(this),this.preset=presetName,addPresetOption(this,presetName,!0)},revert:function(gui){common.each(this.__controllers,function(controller){this.getRoot().load.remembered?recallSavedValue(gui||this.getRoot(),controller):controller.setValue(controller.initialValue)},this),common.each(this.__folders,function(folder){folder.revert(folder)}),gui||markPresetModified(this.getRoot(),!1)},listen:function(controller){var init=0==this.__listening.length;this.__listening.push(controller),init&&updateDisplays(this.__listening)}}),GUI}(dat.utils.css,'<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>',".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n",dat.controllers.factory=function(OptionController,NumberControllerBox,NumberControllerSlider,StringController,FunctionController,BooleanController,common){return function(object,property){var initialValue=object[property];return common.isArray(arguments[2])||common.isObject(arguments[2])?new OptionController(object,property,arguments[2]):common.isNumber(initialValue)?common.isNumber(arguments[2])&&common.isNumber(arguments[3])?new NumberControllerSlider(object,property,arguments[2],arguments[3]):new NumberControllerBox(object,property,{min:arguments[2],max:arguments[3]}):common.isString(initialValue)?new StringController(object,property):common.isFunction(initialValue)?new FunctionController(object,property,""):common.isBoolean(initialValue)?new BooleanController(object,property):void 0}}(dat.controllers.OptionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.StringController=function(Controller,dom,common){var StringController=function(object,property){function onChange(){_this.setValue(_this.__input.value)}function onBlur(){_this.__onFinishChange&&_this.__onFinishChange.call(_this,_this.getValue())}StringController.superclass.call(this,object,property);var _this=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),dom.bind(this.__input,"keyup",onChange),dom.bind(this.__input,"change",onChange),dom.bind(this.__input,"blur",onBlur),dom.bind(this.__input,"keydown",function(e){13===e.keyCode&&this.blur()}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return StringController.superclass=Controller,common.extend(StringController.prototype,Controller.prototype,{updateDisplay:function(){return dom.isActive(this.__input)||(this.__input.value=this.getValue()),StringController.superclass.prototype.updateDisplay.call(this)}}),StringController}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.FunctionController,dat.controllers.BooleanController,dat.utils.common),dat.controllers.Controller,dat.controllers.BooleanController,dat.controllers.FunctionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.OptionController,dat.controllers.ColorController=function(Controller,dom,Color,interpret,common){function linearGradient(elem,x,a,b){elem.style.background="",common.each(vendors,function(vendor){elem.style.cssText+="background: "+vendor+"linear-gradient("+x+", "+a+" 0%, "+b+" 100%); "})}function hueGradient(elem){elem.style.background="",elem.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",elem.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",elem.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",elem.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",elem.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var ColorController=function(object,property){function fieldDown(e){setSV(e),dom.bind(window,"mousemove",setSV),dom.bind(window,"mouseup",unbindSV)}function unbindSV(){dom.unbind(window,"mousemove",setSV),dom.unbind(window,"mouseup",unbindSV)}function onBlur(){var i=interpret(this.value);i!==!1?(_this.__color.__state=i,_this.setValue(_this.__color.toOriginal())):this.value=_this.__color.toString()}function unbindH(){dom.unbind(window,"mousemove",setH),dom.unbind(window,"mouseup",unbindH)}function setSV(e){e.preventDefault();var w=dom.getWidth(_this.__saturation_field),o=dom.getOffset(_this.__saturation_field),s=(e.clientX-o.left+document.body.scrollLeft)/w,v=1-(e.clientY-o.top+document.body.scrollTop)/w;return v>1?v=1:v<0&&(v=0),s>1?s=1:s<0&&(s=0),_this.__color.v=v,_this.__color.s=s,_this.setValue(_this.__color.toOriginal()),!1}function setH(e){e.preventDefault();var s=dom.getHeight(_this.__hue_field),o=dom.getOffset(_this.__hue_field),h=1-(e.clientY-o.top+document.body.scrollTop)/s;return h>1?h=1:h<0&&(h=0),_this.__color.h=360*h,_this.setValue(_this.__color.toOriginal()),!1}ColorController.superclass.call(this,object,property),this.__color=new Color(this.getValue()),this.__temp=new Color(0);var _this=this;this.domElement=document.createElement("div"),dom.makeSelectable(this.domElement,!1),this.__selector=document.createElement("div"),this.__selector.className="selector",this.__saturation_field=document.createElement("div"),this.__saturation_field.className="saturation-field",this.__field_knob=document.createElement("div"),this.__field_knob.className="field-knob",this.__field_knob_border="2px solid ",this.__hue_knob=document.createElement("div"),this.__hue_knob.className="hue-knob",this.__hue_field=document.createElement("div"),this.__hue_field.className="hue-field",this.__input=document.createElement("input"),this.__input.type="text",this.__input_textShadow="0 1px 1px ",dom.bind(this.__input,"keydown",function(e){
13===e.keyCode&&onBlur.call(this)}),dom.bind(this.__input,"blur",onBlur),dom.bind(this.__selector,"mousedown",function(e){dom.addClass(this,"drag").bind(window,"mouseup",function(e){dom.removeClass(_this.__selector,"drag")})});var value_field=document.createElement("div");common.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),common.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),common.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),common.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),common.extend(value_field.style,{width:"100%",height:"100%",background:"none"}),linearGradient(value_field,"top","rgba(0,0,0,0)","#000"),common.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"}),hueGradient(this.__hue_field),common.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"}),dom.bind(this.__saturation_field,"mousedown",fieldDown),dom.bind(this.__field_knob,"mousedown",fieldDown),dom.bind(this.__hue_field,"mousedown",function(e){setH(e),dom.bind(window,"mousemove",setH),dom.bind(window,"mouseup",unbindH)}),this.__saturation_field.appendChild(value_field),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay()};ColorController.superclass=Controller,common.extend(ColorController.prototype,Controller.prototype,{updateDisplay:function(){var i=interpret(this.getValue());if(i!==!1){var mismatch=!1;common.each(Color.COMPONENTS,function(component){if(!common.isUndefined(i[component])&&!common.isUndefined(this.__color.__state[component])&&i[component]!==this.__color.__state[component])return mismatch=!0,{}},this),mismatch&&common.extend(this.__color.__state,i)}common.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var flip=this.__color.v<.5||this.__color.s>.5?255:0,_flip=255-flip;common.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+flip+","+flip+","+flip+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,linearGradient(this.__saturation_field,"left","#fff",this.__temp.toString()),common.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+flip+","+flip+","+flip+")",textShadow:this.__input_textShadow+"rgba("+_flip+","+_flip+","+_flip+",.7)"})}});var vendors=["-moz-","-o-","-webkit-","-ms-",""];return ColorController}(dat.controllers.Controller,dat.dom.dom,dat.color.Color=function(interpret,math,toString,common){function defineRGBComponent(target,component,componentHexIndex){Object.defineProperty(target,component,{get:function(){return"RGB"===this.__state.space?this.__state[component]:(recalculateRGB(this,component,componentHexIndex),this.__state[component])},set:function(v){"RGB"!==this.__state.space&&(recalculateRGB(this,component,componentHexIndex),this.__state.space="RGB"),this.__state[component]=v}})}function defineHSVComponent(target,component){Object.defineProperty(target,component,{get:function(){return"HSV"===this.__state.space?this.__state[component]:(recalculateHSV(this),this.__state[component])},set:function(v){"HSV"!==this.__state.space&&(recalculateHSV(this),this.__state.space="HSV"),this.__state[component]=v}})}function recalculateRGB(color,component,componentHexIndex){if("HEX"===color.__state.space)color.__state[component]=math.component_from_hex(color.__state.hex,componentHexIndex);else{if("HSV"!==color.__state.space)throw"Corrupted color state";common.extend(color.__state,math.hsv_to_rgb(color.__state.h,color.__state.s,color.__state.v))}}function recalculateHSV(color){var result=math.rgb_to_hsv(color.r,color.g,color.b);common.extend(color.__state,{s:result.s,v:result.v}),common.isNaN(result.h)?common.isUndefined(color.__state.h)&&(color.__state.h=0):color.__state.h=result.h}var Color=function(){if(this.__state=interpret.apply(this,arguments),this.__state===!1)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return Color.COMPONENTS=["r","g","b","h","s","v","hex","a"],common.extend(Color.prototype,{toString:function(){return toString(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),defineRGBComponent(Color.prototype,"r",2),defineRGBComponent(Color.prototype,"g",1),defineRGBComponent(Color.prototype,"b",0),defineHSVComponent(Color.prototype,"h"),defineHSVComponent(Color.prototype,"s"),defineHSVComponent(Color.prototype,"v"),Object.defineProperty(Color.prototype,"a",{get:function(){return this.__state.a},set:function(v){this.__state.a=v}}),Object.defineProperty(Color.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=math.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(v){this.__state.space="HEX",this.__state.hex=v}}),Color}(dat.color.interpret,dat.color.math=function(){var tmpComponent;return{hsv_to_rgb:function(h,s,v){var hi=Math.floor(h/60)%6,f=h/60-Math.floor(h/60),p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s),c=[[v,t,p],[q,v,p],[p,v,t],[p,q,v],[t,p,v],[v,p,q]][hi];return{r:255*c[0],g:255*c[1],b:255*c[2]}},rgb_to_hsv:function(r,g,b){var h,s,min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min;return 0==max?{h:NaN,s:0,v:0}:(s=delta/max,h=r==max?(g-b)/delta:g==max?2+(b-r)/delta:4+(r-g)/delta,h/=6,h<0&&(h+=1),{h:360*h,s:s,v:max/255})},rgb_to_hex:function(r,g,b){var hex=this.hex_with_component(0,2,r);return hex=this.hex_with_component(hex,1,g),hex=this.hex_with_component(hex,0,b)},component_from_hex:function(hex,componentIndex){return hex>>8*componentIndex&255},hex_with_component:function(hex,componentIndex,value){return value<<(tmpComponent=8*componentIndex)|hex&~(255<<tmpComponent)}}}(),dat.color.toString,dat.utils.common),dat.color.interpret,dat.utils.common),dat.utils.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback,element){window.setTimeout(callback,1e3/60)}}(),dat.dom.CenteredDiv=function(dom,common){var CenteredDiv=function(){this.backgroundElement=document.createElement("div"),common.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"}),dom.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),common.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var _this=this;dom.bind(this.backgroundElement,"click",function(){_this.hide()})};return CenteredDiv.prototype.show=function(){var _this=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),common.defer(function(){_this.backgroundElement.style.opacity=1,_this.domElement.style.opacity=1,_this.domElement.style.webkitTransform="scale(1)"})},CenteredDiv.prototype.hide=function(){var _this=this,hide=function(){_this.domElement.style.display="none",_this.backgroundElement.style.display="none",dom.unbind(_this.domElement,"webkitTransitionEnd",hide),dom.unbind(_this.domElement,"transitionend",hide),dom.unbind(_this.domElement,"oTransitionEnd",hide)};dom.bind(this.domElement,"webkitTransitionEnd",hide),dom.bind(this.domElement,"transitionend",hide),dom.bind(this.domElement,"oTransitionEnd",hide),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},CenteredDiv.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-dom.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-dom.getHeight(this.domElement)/2+"px"},CenteredDiv}(dat.dom.dom,dat.utils.common),dat.dom.dom,dat.utils.common)},function(module,exports){var dat=module.exports=dat||{};dat.color=dat.color||{},dat.utils=dat.utils||{},dat.utils.common=function(){var ARR_EACH=Array.prototype.forEach,ARR_SLICE=Array.prototype.slice;return{BREAK:{},extend:function(target){return this.each(ARR_SLICE.call(arguments,1),function(obj){for(var key in obj)this.isUndefined(obj[key])||(target[key]=obj[key])},this),target},defaults:function(target){return this.each(ARR_SLICE.call(arguments,1),function(obj){for(var key in obj)this.isUndefined(target[key])&&(target[key]=obj[key])},this),target},compose:function(){var toCall=ARR_SLICE.call(arguments);return function(){for(var args=ARR_SLICE.call(arguments),i=toCall.length-1;i>=0;i--)args=[toCall[i].apply(this,args)];return args[0]}},each:function(obj,itr,scope){if(ARR_EACH&&obj.forEach===ARR_EACH)obj.forEach(itr,scope);else if(obj.length===obj.length+0){for(var key=0,l=obj.length;key<l;key++)if(key in obj&&itr.call(scope,obj[key],key)===this.BREAK)return}else for(var key in obj)if(itr.call(scope,obj[key],key)===this.BREAK)return},defer:function(fnc){setTimeout(fnc,0)},toArray:function(obj){return obj.toArray?obj.toArray():ARR_SLICE.call(obj)},isUndefined:function(obj){return void 0===obj},isNull:function(obj){return null===obj},isNaN:function(obj){return obj!==obj},isArray:Array.isArray||function(obj){return obj.constructor===Array},isObject:function(obj){return obj===Object(obj)},isNumber:function(obj){return obj===obj+0},isString:function(obj){return obj===obj+""},isBoolean:function(obj){return obj===!1||obj===!0},isFunction:function(obj){return"[object Function]"===Object.prototype.toString.call(obj)}}}(),dat.color.toString=function(common){return function(color){if(1==color.a||common.isUndefined(color.a)){for(var s=color.hex.toString(16);s.length<6;)s="0"+s;return"#"+s}return"rgba("+Math.round(color.r)+","+Math.round(color.g)+","+Math.round(color.b)+","+color.a+")"}}(dat.utils.common),dat.Color=dat.color.Color=function(interpret,math,toString,common){function defineRGBComponent(target,component,componentHexIndex){Object.defineProperty(target,component,{get:function(){return"RGB"===this.__state.space?this.__state[component]:(recalculateRGB(this,component,componentHexIndex),this.__state[component])},set:function(v){"RGB"!==this.__state.space&&(recalculateRGB(this,component,componentHexIndex),this.__state.space="RGB"),this.__state[component]=v}})}function defineHSVComponent(target,component){Object.defineProperty(target,component,{get:function(){return"HSV"===this.__state.space?this.__state[component]:(recalculateHSV(this),this.__state[component])},set:function(v){"HSV"!==this.__state.space&&(recalculateHSV(this),this.__state.space="HSV"),this.__state[component]=v}})}function recalculateRGB(color,component,componentHexIndex){if("HEX"===color.__state.space)color.__state[component]=math.component_from_hex(color.__state.hex,componentHexIndex);else{if("HSV"!==color.__state.space)throw"Corrupted color state";common.extend(color.__state,math.hsv_to_rgb(color.__state.h,color.__state.s,color.__state.v))}}function recalculateHSV(color){var result=math.rgb_to_hsv(color.r,color.g,color.b);common.extend(color.__state,{s:result.s,v:result.v}),common.isNaN(result.h)?common.isUndefined(color.__state.h)&&(color.__state.h=0):color.__state.h=result.h}var Color=function(){if(this.__state=interpret.apply(this,arguments),this.__state===!1)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return Color.COMPONENTS=["r","g","b","h","s","v","hex","a"],common.extend(Color.prototype,{toString:function(){return toString(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),defineRGBComponent(Color.prototype,"r",2),defineRGBComponent(Color.prototype,"g",1),defineRGBComponent(Color.prototype,"b",0),defineHSVComponent(Color.prototype,"h"),defineHSVComponent(Color.prototype,"s"),defineHSVComponent(Color.prototype,"v"),Object.defineProperty(Color.prototype,"a",{get:function(){return this.__state.a},set:function(v){this.__state.a=v}}),Object.defineProperty(Color.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=math.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(v){this.__state.space="HEX",this.__state.hex=v}}),Color}(dat.color.interpret=function(toString,common){var result,toReturn,interpret=function(){toReturn=!1;var original=arguments.length>1?common.toArray(arguments):arguments[0];return common.each(INTERPRETATIONS,function(family){if(family.litmus(original))return common.each(family.conversions,function(conversion,conversionName){if(result=conversion.read(original),toReturn===!1&&result!==!1)return toReturn=result,result.conversionName=conversionName,result.conversion=conversion,common.BREAK}),common.BREAK}),toReturn},INTERPRETATIONS=[{litmus:common.isString,conversions:{THREE_CHAR_HEX:{read:function(original){var test=original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==test&&{space:"HEX",hex:parseInt("0x"+test[1].toString()+test[1].toString()+test[2].toString()+test[2].toString()+test[3].toString()+test[3].toString())}},write:toString},SIX_CHAR_HEX:{read:function(original){var test=original.match(/^#([A-F0-9]{6})$/i);return null!==test&&{space:"HEX",hex:parseInt("0x"+test[1].toString())}},write:toString},CSS_RGB:{read:function(original){var test=original.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==test&&{space:"RGB",r:parseFloat(test[1]),g:parseFloat(test[2]),b:parseFloat(test[3])}},write:toString},CSS_RGBA:{read:function(original){var test=original.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null!==test&&{space:"RGB",r:parseFloat(test[1]),g:parseFloat(test[2]),b:parseFloat(test[3]),a:parseFloat(test[4])}},write:toString}}},{litmus:common.isNumber,conversions:{HEX:{read:function(original){return{space:"HEX",hex:original,conversionName:"HEX"}},write:function(color){return color.hex}}}},{litmus:common.isArray,conversions:{RGB_ARRAY:{read:function(original){return 3==original.length&&{space:"RGB",r:original[0],g:original[1],b:original[2]}},write:function(color){return[color.r,color.g,color.b]}},RGBA_ARRAY:{read:function(original){return 4==original.length&&{space:"RGB",r:original[0],g:original[1],b:original[2],a:original[3]}},write:function(color){return[color.r,color.g,color.b,color.a]}}}},{litmus:common.isObject,conversions:{RGBA_OBJ:{read:function(original){return!!(common.isNumber(original.r)&&common.isNumber(original.g)&&common.isNumber(original.b)&&common.isNumber(original.a))&&{space:"RGB",r:original.r,g:original.g,b:original.b,a:original.a}},write:function(color){return{r:color.r,g:color.g,b:color.b,a:color.a}}},RGB_OBJ:{read:function(original){return!!(common.isNumber(original.r)&&common.isNumber(original.g)&&common.isNumber(original.b))&&{space:"RGB",r:original.r,g:original.g,b:original.b}},write:function(color){return{r:color.r,g:color.g,b:color.b}}},HSVA_OBJ:{read:function(original){return!!(common.isNumber(original.h)&&common.isNumber(original.s)&&common.isNumber(original.v)&&common.isNumber(original.a))&&{space:"HSV",h:original.h,s:original.s,v:original.v,a:original.a}},write:function(color){return{h:color.h,s:color.s,v:color.v,a:color.a}}},HSV_OBJ:{read:function(original){return!!(common.isNumber(original.h)&&common.isNumber(original.s)&&common.isNumber(original.v))&&{space:"HSV",h:original.h,s:original.s,v:original.v}},write:function(color){return{h:color.h,s:color.s,v:color.v}}}}}];return interpret}(dat.color.toString,dat.utils.common),dat.color.math=function(){var tmpComponent;return{hsv_to_rgb:function(h,s,v){var hi=Math.floor(h/60)%6,f=h/60-Math.floor(h/60),p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s),c=[[v,t,p],[q,v,p],[p,v,t],[p,q,v],[t,p,v],[v,p,q]][hi];return{r:255*c[0],g:255*c[1],b:255*c[2]}},rgb_to_hsv:function(r,g,b){var h,s,min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min;return 0==max?{h:NaN,s:0,v:0}:(s=delta/max,h=r==max?(g-b)/delta:g==max?2+(b-r)/delta:4+(r-g)/delta,h/=6,h<0&&(h+=1),{h:360*h,s:s,v:max/255})},rgb_to_hex:function(r,g,b){var hex=this.hex_with_component(0,2,r);return hex=this.hex_with_component(hex,1,g),hex=this.hex_with_component(hex,0,b)},component_from_hex:function(hex,componentIndex){return hex>>8*componentIndex&255},hex_with_component:function(hex,componentIndex,value){return value<<(tmpComponent=8*componentIndex)|hex&~(255<<tmpComponent)}}}(),dat.color.toString,dat.utils.common)}]);